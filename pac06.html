<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 PAC06 | FAQ Laboratori de Fonaments de Programació</title>
  <meta name="description" content="FAQ del Laboratori de Fonaments de Programació" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="6 PAC06 | FAQ Laboratori de Fonaments de Programació" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="FAQ del Laboratori de Fonaments de Programació" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 PAC06 | FAQ Laboratori de Fonaments de Programació" />
  
  <meta name="twitter:description" content="FAQ del Laboratori de Fonaments de Programació" />
  

<meta name="author" content="Blasco Planesas, Jordi; Muñoz Baracco, Cesco" />


<meta name="date" content="2020-07-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="pac05.html"/>
<link rel="next" href="pac07.html"/>
<script src="libs/header-attrs-2.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-168787497-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-168787497-1');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><img src="./img/uoc.png" width="100"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introducció</a></li>
<li class="chapter" data-level="1" data-path="pac01.html"><a href="pac01.html"><i class="fa fa-check"></i><b>1</b> PAC01</a>
<ul>
<li class="chapter" data-level="1.1" data-path="pac01.html"><a href="pac01.html#llenguatge-algorísmic"><i class="fa fa-check"></i><b>1.1</b> Llenguatge algorísmic</a></li>
<li class="chapter" data-level="1.2" data-path="pac01.html"><a href="pac01.html#llenguatge-algorísmic-vs-llenguatge-c"><i class="fa fa-check"></i><b>1.2</b> Llenguatge algorísmic vs llenguatge C</a></li>
<li class="chapter" data-level="1.3" data-path="pac01.html"><a href="pac01.html#equivalències-llenguatge-algorísmic-vs-llenguatge-c"><i class="fa fa-check"></i><b>1.3</b> Equivalències llenguatge algorísmic vs llenguatge C</a></li>
<li class="chapter" data-level="1.4" data-path="pac01.html"><a href="pac01.html#impressió-de-valors-incorrecta"><i class="fa fa-check"></i><b>1.4</b> Impressió de valors incorrecta</a></li>
<li class="chapter" data-level="1.5" data-path="pac01.html"><a href="pac01.html#com-definir-un-enumeratiu"><i class="fa fa-check"></i><b>1.5</b> Com definir un enumeratiu</a></li>
<li class="chapter" data-level="1.6" data-path="pac01.html"><a href="pac01.html#com-utilitzar-un-enumeratiu"><i class="fa fa-check"></i><b>1.6</b> Com utilitzar un enumeratiu</a></li>
<li class="chapter" data-level="1.7" data-path="pac01.html"><a href="pac01.html#especificador-dun-enumeratiu"><i class="fa fa-check"></i><b>1.7</b> Especificador d’un enumeratiu</a></li>
<li class="chapter" data-level="1.8" data-path="pac01.html"><a href="pac01.html#lectura-de-caràcters-en-c"><i class="fa fa-check"></i><b>1.8</b> Lectura de caràcters en C</a></li>
<li class="chapter" data-level="1.9" data-path="pac01.html"><a href="pac01.html#lectura-de-float-en-c"><i class="fa fa-check"></i><b>1.9</b> Lectura de float en C</a></li>
<li class="chapter" data-level="1.10" data-path="pac01.html"><a href="pac01.html#frequently-made-mistakes"><i class="fa fa-check"></i><b>1.10</b> Frequently Made Mistakes</a>
<ul>
<li class="chapter" data-level="1.10.1" data-path="pac01.html"><a href="pac01.html#definició-de-tipus-tipus-booleà"><i class="fa fa-check"></i><b>1.10.1</b> Definició de tipus: tipus booleà</a></li>
<li class="chapter" data-level="1.10.2" data-path="pac01.html"><a href="pac01.html#estil-i-format-absència-destil-i-format-en-llenguatge-algorísmic"><i class="fa fa-check"></i><b>1.10.2</b> Estil i format: absència d’estil i format en llenguatge algorísmic</a></li>
<li class="chapter" data-level="1.10.3" data-path="pac01.html"><a href="pac01.html#declaració-de-variables-identificadors-no-permesos"><i class="fa fa-check"></i><b>1.10.3</b> Declaració de variables: identificadors no permesos</a></li>
<li class="chapter" data-level="1.10.4" data-path="pac01.html"><a href="pac01.html#declaració-de-variables-operador-de-declaració"><i class="fa fa-check"></i><b>1.10.4</b> Declaració de variables: operador de declaració</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="pac02.html"><a href="pac02.html"><i class="fa fa-check"></i><b>2</b> PAC02</a>
<ul>
<li class="chapter" data-level="2.1" data-path="pac02.html"><a href="pac02.html#booleans-en-c"><i class="fa fa-check"></i><b>2.1</b> Booleans en C</a></li>
<li class="chapter" data-level="2.2" data-path="pac02.html"><a href="pac02.html#booleans-definits-com-a-enumeratius"><i class="fa fa-check"></i><b>2.2</b> Booleans definits com a enumeratius</a></li>
<li class="chapter" data-level="2.3" data-path="pac02.html"><a href="pac02.html#constants-define-vs-const"><i class="fa fa-check"></i><b>2.3</b> Constants: define vs const</a></li>
<li class="chapter" data-level="2.4" data-path="pac02.html"><a href="pac02.html#com-mostrar-el-valor-duna-constant"><i class="fa fa-check"></i><b>2.4</b> Com mostrar el valor d’una constant</a></li>
<li class="chapter" data-level="2.5" data-path="pac02.html"><a href="pac02.html#precisió-en-variables-float"><i class="fa fa-check"></i><b>2.5</b> Precisió en variables float</a></li>
<li class="chapter" data-level="2.6" data-path="pac02.html"><a href="pac02.html#semàntica-duna-expressió"><i class="fa fa-check"></i><b>2.6</b> Semàntica d’una expressió</a></li>
<li class="chapter" data-level="2.7" data-path="pac02.html"><a href="pac02.html#exemples-dexpressions"><i class="fa fa-check"></i><b>2.7</b> Exemples d’expressions</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="pac02.html"><a href="pac02.html#exemple-1-esparell"><i class="fa fa-check"></i><b>2.7.1</b> Exemple 1: esParell</a></li>
<li class="chapter" data-level="2.7.2" data-path="pac02.html"><a href="pac02.html#exemple-2-capdesetmana"><i class="fa fa-check"></i><b>2.7.2</b> Exemple 2: capDeSetmana</a></li>
<li class="chapter" data-level="2.7.3" data-path="pac02.html"><a href="pac02.html#exemple-3-esvocal"><i class="fa fa-check"></i><b>2.7.3</b> Exemple 3: esVocal</a></li>
<li class="chapter" data-level="2.7.4" data-path="pac02.html"><a href="pac02.html#exemple-4-votacions"><i class="fa fa-check"></i><b>2.7.4</b> Exemple 4: votacions</a></li>
<li class="chapter" data-level="2.7.5" data-path="pac02.html"><a href="pac02.html#exemple-5-gintonicpreparation"><i class="fa fa-check"></i><b>2.7.5</b> Exemple 5: ginTonicPreparation</a></li>
<li class="chapter" data-level="2.7.6" data-path="pac02.html"><a href="pac02.html#exemple-6-gintonicfreeml"><i class="fa fa-check"></i><b>2.7.6</b> Exemple 6: ginTonicFreeMl</a></li>
<li class="chapter" data-level="2.7.7" data-path="pac02.html"><a href="pac02.html#exemple-7-scoutingbasquet"><i class="fa fa-check"></i><b>2.7.7</b> Exemple 7: scoutingBasquet</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="pac02.html"><a href="pac02.html#frequently-made-mistakes-1"><i class="fa fa-check"></i><b>2.8</b> Frequently Made Mistakes</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="pac02.html"><a href="pac02.html#interfície-dusuari-absència-de-textos-informatius"><i class="fa fa-check"></i><b>2.8.1</b> Interfície d’usuari: absència de textos informatius</a></li>
<li class="chapter" data-level="2.8.2" data-path="pac02.html"><a href="pac02.html#caràcters-ús-de-cometes-simples"><i class="fa fa-check"></i><b>2.8.2</b> Caràcters: ús de cometes simples</a></li>
<li class="chapter" data-level="2.8.3" data-path="pac02.html"><a href="pac02.html#sintaxi-pròpia-de-c-funcions-de-lecturaescriptura"><i class="fa fa-check"></i><b>2.8.3</b> Sintaxi pròpia de C: funcions de lectura/escriptura</a></li>
<li class="chapter" data-level="2.8.4" data-path="pac02.html"><a href="pac02.html#conversió-de-tipus-funcions-inexistents"><i class="fa fa-check"></i><b>2.8.4</b> Conversió de tipus: funcions inexistents</a></li>
<li class="chapter" data-level="2.8.5" data-path="pac02.html"><a href="pac02.html#expressions-variables-intermitges"><i class="fa fa-check"></i><b>2.8.5</b> Expressions: variables intermitges</a></li>
<li class="chapter" data-level="2.8.6" data-path="pac02.html"><a href="pac02.html#declaració-de-variables-declaració-mal-ubicada-bloc-central-de-codi"><i class="fa fa-check"></i><b>2.8.6</b> Declaració de variables: declaració mal ubicada (bloc central de codi)</a></li>
<li class="chapter" data-level="2.8.7" data-path="pac02.html"><a href="pac02.html#declaració-de-variables-declaració-mal-ubicada-variables-globals"><i class="fa fa-check"></i><b>2.8.7</b> Declaració de variables: declaració mal ubicada (variables globals)</a></li>
<li class="chapter" data-level="2.8.8" data-path="pac02.html"><a href="pac02.html#tipus-booleà-valors-numèrics"><i class="fa fa-check"></i><b>2.8.8</b> Tipus booleà: valors numèrics</a></li>
<li class="chapter" data-level="2.8.9" data-path="pac02.html"><a href="pac02.html#tipus-booleà-cadenes-de-caràcters"><i class="fa fa-check"></i><b>2.8.9</b> Tipus booleà: cadenes de caràcters</a></li>
<li class="chapter" data-level="2.8.10" data-path="pac02.html"><a href="pac02.html#sintaxi-pròpia-de-c-operadors"><i class="fa fa-check"></i><b>2.8.10</b> Sintaxi pròpia de C: operadors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="pac03.html"><a href="pac03.html"><i class="fa fa-check"></i><b>3</b> PAC03</a>
<ul>
<li class="chapter" data-level="3.1" data-path="pac03.html"><a href="pac03.html#com-declarar-un-vector-en-llenguatge-algorísmic"><i class="fa fa-check"></i><b>3.1</b> Com declarar un vector en llenguatge algorísmic</a></li>
<li class="chapter" data-level="3.2" data-path="pac03.html"><a href="pac03.html#significat-dels-arguments-del-main"><i class="fa fa-check"></i><b>3.2</b> Significat dels arguments del main</a></li>
<li class="chapter" data-level="3.3" data-path="pac03.html"><a href="pac03.html#assignar-valors-a-un-vector"><i class="fa fa-check"></i><b>3.3</b> Assignar valors a un vector</a></li>
<li class="chapter" data-level="3.4" data-path="pac03.html"><a href="pac03.html#stack-smashing-detected"><i class="fa fa-check"></i><b>3.4</b> Stack smashing detected</a></li>
<li class="chapter" data-level="3.5" data-path="pac03.html"><a href="pac03.html#concatenació-en-llenguatge-algorísmic"><i class="fa fa-check"></i><b>3.5</b> Concatenació en llenguatge algorísmic</a></li>
<li class="chapter" data-level="3.6" data-path="pac03.html"><a href="pac03.html#importància-dels-tipus-utilitzats-en-llenguatge-c"><i class="fa fa-check"></i><b>3.6</b> Importància dels tipus utilitzats en llenguatge C</a></li>
<li class="chapter" data-level="3.7" data-path="pac03.html"><a href="pac03.html#exemple-notafinal"><i class="fa fa-check"></i><b>3.7</b> Exemple: notaFinal</a></li>
<li class="chapter" data-level="3.8" data-path="pac03.html"><a href="pac03.html#frequently-made-mistakes-2"><i class="fa fa-check"></i><b>3.8</b> Frequently Made Mistakes</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="pac03.html"><a href="pac03.html#strings-declaració-com-a-vectors-de-caràcters-en-llenguatge-algorísmic"><i class="fa fa-check"></i><b>3.8.1</b> Strings: declaració com a vectors de caràcters en llenguatge algorísmic</a></li>
<li class="chapter" data-level="3.8.2" data-path="pac03.html"><a href="pac03.html#sintaxi-pròpia-de-c-funcions-complexes"><i class="fa fa-check"></i><b>3.8.2</b> Sintaxi pròpia de C: funcions complexes</a></li>
<li class="chapter" data-level="3.8.3" data-path="pac03.html"><a href="pac03.html#estructura-alternativa-ifs-consecutius"><i class="fa fa-check"></i><b>3.8.3</b> Estructura alternativa: if’s consecutius</a></li>
<li class="chapter" data-level="3.8.4" data-path="pac03.html"><a href="pac03.html#estructura-alternativa-ifs-buits"><i class="fa fa-check"></i><b>3.8.4</b> Estructura alternativa: if’s buits</a></li>
<li class="chapter" data-level="3.8.5" data-path="pac03.html"><a href="pac03.html#estructura-alternativa-interrompre-un-algorisme-i"><i class="fa fa-check"></i><b>3.8.5</b> Estructura alternativa: interrompre un algorisme (I)</a></li>
<li class="chapter" data-level="3.8.6" data-path="pac03.html"><a href="pac03.html#estructura-alternativa-interrompre-un-algorisme-ii"><i class="fa fa-check"></i><b>3.8.6</b> Estructura alternativa: interrompre un algorisme (II)</a></li>
<li class="chapter" data-level="3.8.7" data-path="pac03.html"><a href="pac03.html#constants-i-nombres-valors-numèrics-al-codi-hardcode"><i class="fa fa-check"></i><b>3.8.7</b> Constants i nombres: Valors numèrics al codi (hardcode)</a></li>
<li class="chapter" data-level="3.8.8" data-path="pac03.html"><a href="pac03.html#constants-declaració-de-constants-mal-ubicada"><i class="fa fa-check"></i><b>3.8.8</b> Constants: declaració de constants mal ubicada</a></li>
<li class="chapter" data-level="3.8.9" data-path="pac03.html"><a href="pac03.html#strings-comparació-directa"><i class="fa fa-check"></i><b>3.8.9</b> Strings: comparació directa</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pac04.html"><a href="pac04.html"><i class="fa fa-check"></i><b>4</b> PAC04</a>
<ul>
<li class="chapter" data-level="4.1" data-path="pac04.html"><a href="pac04.html#com-tractar-elements-dun-vector-amb-un-bucle"><i class="fa fa-check"></i><b>4.1</b> Com tractar elements d’un vector amb un bucle</a></li>
<li class="chapter" data-level="4.2" data-path="pac04.html"><a href="pac04.html#entrada-contínua-de-valors-amb-un-bucle"><i class="fa fa-check"></i><b>4.2</b> Entrada contínua de valors amb un bucle</a></li>
<li class="chapter" data-level="4.3" data-path="pac04.html"><a href="pac04.html#com-tractar-valors-en-múltiples-vectors"><i class="fa fa-check"></i><b>4.3</b> Com tractar valors en múltiples vectors</a></li>
<li class="chapter" data-level="4.4" data-path="pac04.html"><a href="pac04.html#definició-chars-vs-strings"><i class="fa fa-check"></i><b>4.4</b> Definició chars vs strings</a></li>
<li class="chapter" data-level="4.5" data-path="pac04.html"><a href="pac04.html#exemple-mitjanapes"><i class="fa fa-check"></i><b>4.5</b> Exemple: mitjanaPes</a></li>
<li class="chapter" data-level="4.6" data-path="pac04.html"><a href="pac04.html#frequently-made-mistakes-3"><i class="fa fa-check"></i><b>4.6</b> Frequently Made Mistakes</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="pac04.html"><a href="pac04.html#estructura-iterativa-for-vs-while"><i class="fa fa-check"></i><b>4.6.1</b> Estructura iterativa: for vs while</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="pac05.html"><a href="pac05.html"><i class="fa fa-check"></i><b>5</b> PAC05</a>
<ul>
<li class="chapter" data-level="5.1" data-path="pac05.html"><a href="pac05.html#strcmp"><i class="fa fa-check"></i><b>5.1</b> strcmp()</a></li>
<li class="chapter" data-level="5.2" data-path="pac05.html"><a href="pac05.html#scanf"><i class="fa fa-check"></i><b>5.2</b> scanf()</a></li>
<li class="chapter" data-level="5.3" data-path="pac05.html"><a href="pac05.html#el-finalitzador-0-i-strcmp"><i class="fa fa-check"></i><b>5.3</b> El finalitzador ‘\0’ i strcmp()</a></li>
<li class="chapter" data-level="5.4" data-path="pac05.html"><a href="pac05.html#el-finalitzador-0-i-strlen"><i class="fa fa-check"></i><b>5.4</b> El finalitzador ‘\0’ i strlen()</a></li>
<li class="chapter" data-level="5.5" data-path="pac05.html"><a href="pac05.html#exemple-comparaciostrings"><i class="fa fa-check"></i><b>5.5</b> Exemple: comparacioStrings</a></li>
<li class="chapter" data-level="5.6" data-path="pac05.html"><a href="pac05.html#exemple-nòmines"><i class="fa fa-check"></i><b>5.6</b> Exemple: nòmines</a></li>
<li class="chapter" data-level="5.7" data-path="pac05.html"><a href="pac05.html#exemple-brisca"><i class="fa fa-check"></i><b>5.7</b> Exemple: brisca</a></li>
<li class="chapter" data-level="5.8" data-path="pac05.html"><a href="pac05.html#frequently-made-mistakes-4"><i class="fa fa-check"></i><b>5.8</b> Frequently Made Mistakes</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="pac05.html"><a href="pac05.html#definició-de-tipus-definició-de-tuples-mal-ubicada"><i class="fa fa-check"></i><b>5.8.1</b> Definició de tipus: definició de tuples mal ubicada</a></li>
<li class="chapter" data-level="5.8.2" data-path="pac05.html"><a href="pac05.html#definició-de-tipus-definició-mal-ubicada"><i class="fa fa-check"></i><b>5.8.2</b> Definició de tipus: definició mal ubicada</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="pac06.html"><a href="pac06.html"><i class="fa fa-check"></i><b>6</b> PAC06</a>
<ul>
<li class="chapter" data-level="6.1" data-path="pac06.html"><a href="pac06.html#diferències-entre-funcions-i-accions"><i class="fa fa-check"></i><b>6.1</b> Diferències entre funcions i accions</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="pac06.html"><a href="pac06.html#paràmetres-dentrada-in"><i class="fa fa-check"></i><b>6.1.1</b> Paràmetres d’entrada (in)</a></li>
<li class="chapter" data-level="6.1.2" data-path="pac06.html"><a href="pac06.html#paràmetres-de-sortida-out"><i class="fa fa-check"></i><b>6.1.2</b> Paràmetres de sortida (out)</a></li>
<li class="chapter" data-level="6.1.3" data-path="pac06.html"><a href="pac06.html#paràmetres-dentradasortida-inout"><i class="fa fa-check"></i><b>6.1.3</b> Paràmetres d’entrada/sortida (inout)</a></li>
<li class="chapter" data-level="6.1.4" data-path="pac06.html"><a href="pac06.html#tuples-com-a-paràmetres"><i class="fa fa-check"></i><b>6.1.4</b> Tuples com a paràmetres</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="pac06.html"><a href="pac06.html#exemple-ús-daccions"><i class="fa fa-check"></i><b>6.2</b> Exemple: ús d’accions</a></li>
<li class="chapter" data-level="6.3" data-path="pac06.html"><a href="pac06.html#exemple-ús-de-funcions"><i class="fa fa-check"></i><b>6.3</b> Exemple: ús de funcions</a></li>
<li class="chapter" data-level="6.4" data-path="pac06.html"><a href="pac06.html#exemple-nòmines-1"><i class="fa fa-check"></i><b>6.4</b> Exemple: nòmines</a></li>
<li class="chapter" data-level="6.5" data-path="pac06.html"><a href="pac06.html#exemple-pivotdefensiu"><i class="fa fa-check"></i><b>6.5</b> Exemple: pivotDefensiu</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="pac06.html"><a href="pac06.html#explicació-sobre-lacció-copiarjugadora"><i class="fa fa-check"></i><b>6.5.1</b> Explicació sobre l’acció copiarJugadora()</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="pac06.html"><a href="pac06.html#frequently-made-mistakes-5"><i class="fa fa-check"></i><b>6.6</b> Frequently Made Mistakes</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="pac06.html"><a href="pac06.html#definició-daccionsfuncions-noms-de-paràmetres"><i class="fa fa-check"></i><b>6.6.1</b> Definició d’accions/funcions: noms de paràmetres</a></li>
<li class="chapter" data-level="6.6.2" data-path="pac06.html"><a href="pac06.html#definició-daccionsfuncions-tipus-de-paràmetres"><i class="fa fa-check"></i><b>6.6.2</b> Definició d’accions/funcions: tipus de paràmetres</a></li>
<li class="chapter" data-level="6.6.3" data-path="pac06.html"><a href="pac06.html#definició-de-funcions-tipus-de-dades-de-retorn"><i class="fa fa-check"></i><b>6.6.3</b> Definició de funcions: tipus de dades de retorn</a></li>
<li class="chapter" data-level="6.6.4" data-path="pac06.html"><a href="pac06.html#definició-daccions-retorn-de-valor"><i class="fa fa-check"></i><b>6.6.4</b> Definició d’accions: retorn de valor</a></li>
<li class="chapter" data-level="6.6.5" data-path="pac06.html"><a href="pac06.html#definició-daccionsfuncions-accions-obertes"><i class="fa fa-check"></i><b>6.6.5</b> Definició d’accions/funcions: accions obertes</a></li>
<li class="chapter" data-level="6.6.6" data-path="pac06.html"><a href="pac06.html#crida-a-funcionsaccions-tipus-de-paràmetres"><i class="fa fa-check"></i><b>6.6.6</b> Crida a funcions/accions: tipus de paràmetres</a></li>
<li class="chapter" data-level="6.6.7" data-path="pac06.html"><a href="pac06.html#crida-a-accionsfuncions-paraules-reservades"><i class="fa fa-check"></i><b>6.6.7</b> Crida a accions/funcions: paraules reservades</a></li>
<li class="chapter" data-level="6.6.8" data-path="pac06.html"><a href="pac06.html#crida-a-funcions-crida-buida"><i class="fa fa-check"></i><b>6.6.8</b> Crida a funcions: crida buida</a></li>
<li class="chapter" data-level="6.6.9" data-path="pac06.html"><a href="pac06.html#crida-a-funcions-absència-de-paràmetres"><i class="fa fa-check"></i><b>6.6.9</b> Crida a funcions: absència de paràmetres</a></li>
<li class="chapter" data-level="6.6.10" data-path="pac06.html"><a href="pac06.html#crida-a-funcions-errors-de-sintaxi-múltiples"><i class="fa fa-check"></i><b>6.6.10</b> Crida a funcions: errors de sintaxi múltiples</a></li>
<li class="chapter" data-level="6.6.11" data-path="pac06.html"><a href="pac06.html#definició-de-funcions-funcions-dins-el-main"><i class="fa fa-check"></i><b>6.6.11</b> Definició de funcions: funcions dins el main</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="pac07.html"><a href="pac07.html"><i class="fa fa-check"></i><b>7</b> PAC07</a>
<ul>
<li class="chapter" data-level="7.1" data-path="pac07.html"><a href="pac07.html#quan-utilitzar-dins-de-funcionsaccions"><i class="fa fa-check"></i><b>7.1</b> Quan utilitzar &amp; dins de funcions/accions</a></li>
<li class="chapter" data-level="7.2" data-path="pac07.html"><a href="pac07.html#exemple-com-modular-un-programa-amb-codelite"><i class="fa fa-check"></i><b>7.2</b> Exemple: com modular un programa amb CodeLite</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="pac07.html"><a href="pac07.html#funcionament-per-defecte-dun-projecte-a-codelite"><i class="fa fa-check"></i><b>7.2.1</b> Funcionament per defecte d’un projecte a CodeLite:</a></li>
<li class="chapter" data-level="7.2.2" data-path="pac07.html"><a href="pac07.html#executable-dins-de-bin."><i class="fa fa-check"></i><b>7.2.2</b> Executable dins de /bin.</a></li>
<li class="chapter" data-level="7.2.3" data-path="pac07.html"><a href="pac07.html#modularització-del-programa-en-un-arxiu-de-capçaleres-i-un-de-funcions."><i class="fa fa-check"></i><b>7.2.3</b> Modularització del programa en un arxiu de capçaleres i un de funcions.</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="pac07.html"><a href="pac07.html#tipus-de-paràmetres-en-accions-i-funcions"><i class="fa fa-check"></i><b>7.3</b> Tipus de paràmetres en accions i funcions</a></li>
<li class="chapter" data-level="7.4" data-path="pac07.html"><a href="pac07.html#scanf-acció-o-funció"><i class="fa fa-check"></i><b>7.4</b> scanf(): acció o funció?</a></li>
<li class="chapter" data-level="7.5" data-path="pac07.html"><a href="pac07.html#pas-per-valor-vs-pas-per-referència"><i class="fa fa-check"></i><b>7.5</b> Pas per valor vs pas per referència</a></li>
<li class="chapter" data-level="7.6" data-path="pac07.html"><a href="pac07.html#exemple-capgirarparaula"><i class="fa fa-check"></i><b>7.6</b> Exemple: capgirarParaula</a></li>
<li class="chapter" data-level="7.7" data-path="pac07.html"><a href="pac07.html#exemple-isparell"><i class="fa fa-check"></i><b>7.7</b> Exemple: isParell</a></li>
<li class="chapter" data-level="7.8" data-path="pac07.html"><a href="pac07.html#exemple-pivotdefensiutirslliures"><i class="fa fa-check"></i><b>7.8</b> Exemple: pivotDefensiuTirsLliures</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="pac08.html"><a href="pac08.html"><i class="fa fa-check"></i><b>8</b> PAC08</a>
<ul>
<li class="chapter" data-level="8.1" data-path="pac08.html"><a href="pac08.html#com-inicialitzar-una-taula"><i class="fa fa-check"></i><b>8.1</b> Com inicialitzar una taula</a></li>
<li class="chapter" data-level="8.2" data-path="pac08.html"><a href="pac08.html#exemple-calcularnota"><i class="fa fa-check"></i><b>8.2</b> Exemple: calcularNota</a></li>
<li class="chapter" data-level="8.3" data-path="pac08.html"><a href="pac08.html#exemple-calcularnota-amb-introducció-iterativa"><i class="fa fa-check"></i><b>8.3</b> Exemple: calcularNota amb introducció iterativa</a></li>
<li class="chapter" data-level="8.4" data-path="pac08.html"><a href="pac08.html#exemple-recorregut-vs-cerca"><i class="fa fa-check"></i><b>8.4</b> Exemple: recorregut vs cerca</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="pac09.html"><a href="pac09.html"><i class="fa fa-check"></i><b>9</b> PAC09</a>
<ul>
<li class="chapter" data-level="9.1" data-path="pac09.html"><a href="pac09.html#exemple-llistacartes"><i class="fa fa-check"></i><b>9.1</b> Exemple: llistaCartes</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="pac10.html"><a href="pac10.html"><i class="fa fa-check"></i><b>10</b> PAC10</a></li>
<li class="chapter" data-level="11" data-path="pr1.html"><a href="pr1.html"><i class="fa fa-check"></i><b>11</b> PR1</a>
<ul>
<li class="chapter" data-level="11.1" data-path="pr1.html"><a href="pr1.html#mode-menu-vs-mode-test"><i class="fa fa-check"></i><b>11.1</b> Mode menu vs mode test</a></li>
<li class="chapter" data-level="11.2" data-path="pr1.html"><a href="pr1.html#exemple-tupla-dins-de-tupla"><i class="fa fa-check"></i><b>11.2</b> Exemple: tupla dins de tupla</a></li>
<li class="chapter" data-level="11.3" data-path="pr1.html"><a href="pr1.html#desplaçament-delements-en-un-vector"><i class="fa fa-check"></i><b>11.3</b> Desplaçament d’elements en un vector</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="pr1.html"><a href="pr1.html#afegir-un-element"><i class="fa fa-check"></i><b>11.3.1</b> Afegir un element</a></li>
<li class="chapter" data-level="11.3.2" data-path="pr1.html"><a href="pr1.html#esborrar-un-element"><i class="fa fa-check"></i><b>11.3.2</b> Esborrar un element</a></li>
<li class="chapter" data-level="11.3.3" data-path="pr1.html"><a href="pr1.html#exemple-diessetmana"><i class="fa fa-check"></i><b>11.3.3</b> Exemple: diesSetmana</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="pr2.html"><a href="pr2.html"><i class="fa fa-check"></i><b>12</b> PR2</a>
<ul>
<li class="chapter" data-level="12.1" data-path="pr2.html"><a href="pr2.html#exemple-pilacartes"><i class="fa fa-check"></i><b>12.1</b> Exemple: pilaCartes</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="vmware-i-codelite.html"><a href="vmware-i-codelite.html"><i class="fa fa-check"></i><b>13</b> VMWare i CodeLite</a>
<ul>
<li class="chapter" data-level="13.1" data-path="vmware-i-codelite.html"><a href="vmware-i-codelite.html#per-què-una-màquina-virtual"><i class="fa fa-check"></i><b>13.1</b> Per què una màquina virtual?</a></li>
<li class="chapter" data-level="13.2" data-path="vmware-i-codelite.html"><a href="vmware-i-codelite.html#virtualbox-i-requeriments-de-virtualització"><i class="fa fa-check"></i><b>13.2</b> VirtualBox i requeriments de virtualització</a></li>
<li class="chapter" data-level="13.3" data-path="vmware-i-codelite.html"><a href="vmware-i-codelite.html#com-installar-les-guest-additions"><i class="fa fa-check"></i><b>13.3</b> Com instal·lar les Guest Additions</a></li>
<li class="chapter" data-level="13.4" data-path="vmware-i-codelite.html"><a href="vmware-i-codelite.html#primers-passos-amb-codelite"><i class="fa fa-check"></i><b>13.4</b> Primers passos amb CodeLite</a></li>
<li class="chapter" data-level="13.5" data-path="vmware-i-codelite.html"><a href="vmware-i-codelite.html#com-activar-un-projecte"><i class="fa fa-check"></i><b>13.5</b> Com activar un projecte</a></li>
<li class="chapter" data-level="13.6" data-path="vmware-i-codelite.html"><a href="vmware-i-codelite.html#canviar-idioma-del-teclat"><i class="fa fa-check"></i><b>13.6</b> Canviar idioma del teclat</a></li>
<li class="chapter" data-level="13.7" data-path="vmware-i-codelite.html"><a href="vmware-i-codelite.html#programa-per-defecte-al-crear-un-projecte"><i class="fa fa-check"></i><b>13.7</b> Programa per defecte al crear un projecte</a></li>
<li class="chapter" data-level="13.8" data-path="vmware-i-codelite.html"><a href="vmware-i-codelite.html#com-fixar-el-kernel-dinici-amb-lubuntu"><i class="fa fa-check"></i><b>13.8</b> Com fixar el kernel d’inici amb Lubuntu</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="altres.html"><a href="altres.html"><i class="fa fa-check"></i><b>14</b> Altres</a>
<ul>
<li class="chapter" data-level="14.1" data-path="altres.html"><a href="altres.html#bibliografia"><i class="fa fa-check"></i><b>14.1</b> Bibliografia</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.uoc.edu" target="blank">www.uoc.edu</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">FAQ Laboratori de Fonaments de Programació</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="pac06" class="section level1" number="6">
<h1 number="6"><span class="header-section-number">6</span> PAC06</h1>
<div id="diferències-entre-funcions-i-accions" class="section level2" number="6.1">
<h2 number="6.1"><span class="header-section-number">6.1</span> Diferències entre funcions i accions</h2>
<p>A continuació s’expliquen les diferències entre una <strong>funció</strong> i una <strong>acció</strong>, quins tipus de paràmetres utilitzen, com s’implementen en llenguatge C, i finalment què passa quan un paràmetre és una tupla. És important que es vagin consolidant tots aquests conceptes.</p>
<p>Les principals diferències són:</p>
<table>
<colgroup>
<col width="54%" />
<col width="24%" />
<col width="21%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>Funcions</th>
<th>Accions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Retornen un valor?</td>
<td>sí</td>
<td>no</td>
</tr>
<tr class="even">
<td>Tipus de paràmetres</td>
<td>entrada (in)</td>
<td>entrada (in), sortida (out), entrada/sortida (inout)</td>
</tr>
</tbody>
</table>
<p>El retorn de valor de les funcions permet que aquest es pugui assignar a una variable, cosa que no es pot fer amb les accions.</p>
<p>Per exemple, imaginem que volem implementar en llenguatge C la funció <code>suma()</code>; una possible implementació podria ser:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb141-1"><a href="pac06.html#cb141-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb141-2"><a href="pac06.html#cb141-2"></a></span>
<span id="cb141-3"><a href="pac06.html#cb141-3"></a><span class="co">/* Predeclaració de la funció */</span></span>
<span id="cb141-4"><a href="pac06.html#cb141-4"></a><span class="dt">int</span> suma(<span class="dt">int</span> n1, <span class="dt">int</span> n2);</span>
<span id="cb141-5"><a href="pac06.html#cb141-5"></a></span>
<span id="cb141-6"><a href="pac06.html#cb141-6"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb141-7"><a href="pac06.html#cb141-7"></a>    <span class="dt">int</span> num1 = <span class="dv">3</span>;</span>
<span id="cb141-8"><a href="pac06.html#cb141-8"></a>    <span class="dt">int</span> num2 = <span class="dv">2</span>;</span>
<span id="cb141-9"><a href="pac06.html#cb141-9"></a>    <span class="dt">int</span> resultat = <span class="dv">0</span>;</span>
<span id="cb141-10"><a href="pac06.html#cb141-10"></a>    printf(<span class="st">&quot;Valor de num1 = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, num1);</span>
<span id="cb141-11"><a href="pac06.html#cb141-11"></a>    printf(<span class="st">&quot;Valor de num2 = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, num2);</span>
<span id="cb141-12"><a href="pac06.html#cb141-12"></a>    printf(<span class="st">&quot;Valor de resultat = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, resultat);</span>
<span id="cb141-13"><a href="pac06.html#cb141-13"></a>    printf(<span class="st">&quot;&gt;&gt; Inici execució funció</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb141-14"><a href="pac06.html#cb141-14"></a>    resultat = suma(num1, num2);</span>
<span id="cb141-15"><a href="pac06.html#cb141-15"></a>    printf(<span class="st">&quot;Suma = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, resultat);</span>
<span id="cb141-16"><a href="pac06.html#cb141-16"></a>    printf(<span class="st">&quot;&gt;&gt; Fi execució funció</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb141-17"><a href="pac06.html#cb141-17"></a>    printf(<span class="st">&quot;Valor de resultat = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, resultat);</span>
<span id="cb141-18"><a href="pac06.html#cb141-18"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb141-19"><a href="pac06.html#cb141-19"></a>}</span>
<span id="cb141-20"><a href="pac06.html#cb141-20"></a></span>
<span id="cb141-21"><a href="pac06.html#cb141-21"></a><span class="co">/* Implementació de la funció */</span></span>
<span id="cb141-22"><a href="pac06.html#cb141-22"></a><span class="dt">int</span> suma(<span class="dt">int</span> n1, <span class="dt">int</span> n2) {</span>
<span id="cb141-23"><a href="pac06.html#cb141-23"></a>    <span class="cf">return</span> (n1+n2);</span>
<span id="cb141-24"><a href="pac06.html#cb141-24"></a>}</span></code></pre></div>
<p>L’execució generarà la següent sortida:</p>
<p>
<img src="img/play.png" float="right;" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb142-1"><a href="pac06.html#cb142-1"></a>Valor de num1 = <span class="dv">3</span></span>
<span id="cb142-2"><a href="pac06.html#cb142-2"></a>Valor de num2 = <span class="dv">2</span></span>
<span id="cb142-3"><a href="pac06.html#cb142-3"></a>Valor de resultat = <span class="dv">0</span></span>
<span id="cb142-4"><a href="pac06.html#cb142-4"></a>&gt;&gt; Inici execució funció</span>
<span id="cb142-5"><a href="pac06.html#cb142-5"></a>Suma = <span class="dv">5</span></span>
<span id="cb142-6"><a href="pac06.html#cb142-6"></a>&gt;&gt; Fi execució funció</span>
<span id="cb142-7"><a href="pac06.html#cb142-7"></a>Valor de resultat = <span class="dv">5</span></span></code></pre></div>
<p>Com es pot veure, el valor de retorn de la funció <code>suma()</code> l’assignem a la variable resultat.</p>
<p>En una funció, els paràmetres passats sempre seran <strong>d’entrada</strong> (in): això significa que dins de la funció únicament seran valors de consulta, no els modificarem per res.</p>
<p>Per entendre bé com s’implementa una acció, relacionarem exemples similars amb els diferents tipus de paràmetres que pot tenir una acció: <strong>entrada</strong> (in), <strong>sortida</strong> (out) i <strong>entrada/sortida</strong> (inout).</p>
<div id="paràmetres-dentrada-in" class="section level3" number="6.1.1">
<h3 number="6.1.1"><span class="header-section-number">6.1.1</span> Paràmetres d’entrada (in)</h3>
<p>Són aquells paràmetres que es passen a una <strong>acció</strong> i dels quals únicament utilitzarem el seu contingut. Això significa que treballarem amb ells en <em>mode lectura</em>: obtindrem els seus valors per tal de realitzar càlculs, però mai modificarem el seu contingut. Exemple:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb143-1"><a href="pac06.html#cb143-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb143-2"><a href="pac06.html#cb143-2"></a></span>
<span id="cb143-3"><a href="pac06.html#cb143-3"></a><span class="co">/* Predeclaració de l&#39;acció */</span></span>
<span id="cb143-4"><a href="pac06.html#cb143-4"></a><span class="dt">void</span> suma(<span class="dt">int</span> n1, <span class="dt">int</span> n2);</span>
<span id="cb143-5"><a href="pac06.html#cb143-5"></a></span>
<span id="cb143-6"><a href="pac06.html#cb143-6"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb143-7"><a href="pac06.html#cb143-7"></a>    <span class="dt">int</span> num1 = <span class="dv">3</span>;</span>
<span id="cb143-8"><a href="pac06.html#cb143-8"></a>    <span class="dt">int</span> num2 = <span class="dv">2</span>;</span>
<span id="cb143-9"><a href="pac06.html#cb143-9"></a>    printf(<span class="st">&quot;Valor de num1 = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, num1);</span>
<span id="cb143-10"><a href="pac06.html#cb143-10"></a>    printf(<span class="st">&quot;Valor de num2 = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, num2);</span>
<span id="cb143-11"><a href="pac06.html#cb143-11"></a>    printf(<span class="st">&quot;&gt;&gt; Inici execució acció</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb143-12"><a href="pac06.html#cb143-12"></a>    suma(num1, num2);</span>
<span id="cb143-13"><a href="pac06.html#cb143-13"></a>    printf(<span class="st">&quot;&gt;&gt; Fi execució acció</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb143-14"><a href="pac06.html#cb143-14"></a>    printf(<span class="st">&quot;Valor de num1 = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, num1);</span>
<span id="cb143-15"><a href="pac06.html#cb143-15"></a>    printf(<span class="st">&quot;Valor de num2 = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, num2);</span>
<span id="cb143-16"><a href="pac06.html#cb143-16"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb143-17"><a href="pac06.html#cb143-17"></a>}   </span>
<span id="cb143-18"><a href="pac06.html#cb143-18"></a></span>
<span id="cb143-19"><a href="pac06.html#cb143-19"></a><span class="co">/* Implementació de l&#39;acció */</span></span>
<span id="cb143-20"><a href="pac06.html#cb143-20"></a><span class="dt">void</span> suma(<span class="dt">int</span> n1, <span class="dt">int</span> n2) {</span>
<span id="cb143-21"><a href="pac06.html#cb143-21"></a>    <span class="dt">int</span> resultat = n1 + n2;</span>
<span id="cb143-22"><a href="pac06.html#cb143-22"></a>    printf(<span class="st">&quot;Suma = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, resultat);</span>
<span id="cb143-23"><a href="pac06.html#cb143-23"></a>}</span></code></pre></div>
<p>L’execució generarà la següent sortida:</p>
<p>
<img src="img/play.png" float="right;" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb144-1"><a href="pac06.html#cb144-1"></a>Valor de num1 = <span class="dv">3</span></span>
<span id="cb144-2"><a href="pac06.html#cb144-2"></a>Valor de num2 = <span class="dv">2</span></span>
<span id="cb144-3"><a href="pac06.html#cb144-3"></a>&gt;&gt; Inici execució acció</span>
<span id="cb144-4"><a href="pac06.html#cb144-4"></a>Suma = <span class="dv">5</span></span>
<span id="cb144-5"><a href="pac06.html#cb144-5"></a>&gt;&gt; Fi execució acció</span>
<span id="cb144-6"><a href="pac06.html#cb144-6"></a>Valor de num1 = <span class="dv">3</span></span>
<span id="cb144-7"><a href="pac06.html#cb144-7"></a>Valor de num2 = <span class="dv">2</span></span></code></pre></div>
<p>Com es pot observar, ni <code>num1</code> ni <code>num2</code> han modificat el seu valor després de l’execució de l’acció: son <strong>paràmetres d’entrada</strong>.</p>
<p>Aquest tipus de paràmetre també es referencia com a paràmetre per valor, o pas per valor, ja que el que estem passant és un valor (no pas un punter).</p>
</div>
<div id="paràmetres-de-sortida-out" class="section level3" number="6.1.2">
<h3 number="6.1.2"><span class="header-section-number">6.1.2</span> Paràmetres de sortida (out)</h3>
<p>A diferencia dels paràmetres d’entrada, els de sortida s’utilitzen únicament per guardar valors. Poden contenir qualsevol valor inicial, que aquest no serà utilitzat dins de l’acció. Una vegada realitzats tots els càlculs de l’acció, el resultat final es guardarà en el paràmetre de sortida. Exemple:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb145-1"><a href="pac06.html#cb145-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb145-2"><a href="pac06.html#cb145-2"></a></span>
<span id="cb145-3"><a href="pac06.html#cb145-3"></a><span class="co">/* Predeclaració de l&#39;acció */</span></span>
<span id="cb145-4"><a href="pac06.html#cb145-4"></a><span class="dt">void</span> suma(<span class="dt">int</span> n1, <span class="dt">int</span> n2, <span class="dt">int</span> *res);</span>
<span id="cb145-5"><a href="pac06.html#cb145-5"></a></span>
<span id="cb145-6"><a href="pac06.html#cb145-6"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb145-7"><a href="pac06.html#cb145-7"></a>    <span class="dt">int</span> num1 = <span class="dv">3</span>;</span>
<span id="cb145-8"><a href="pac06.html#cb145-8"></a>    <span class="dt">int</span> num2 = <span class="dv">2</span>;</span>
<span id="cb145-9"><a href="pac06.html#cb145-9"></a>    <span class="dt">int</span> resultat = <span class="dv">0</span>;</span>
<span id="cb145-10"><a href="pac06.html#cb145-10"></a>    <span class="dt">int</span> *pResultat = &amp;resultat;</span>
<span id="cb145-11"><a href="pac06.html#cb145-11"></a>    printf(<span class="st">&quot;Valor de num1 = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, num1);</span>
<span id="cb145-12"><a href="pac06.html#cb145-12"></a>    printf(<span class="st">&quot;Valor de num2 = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, num2);</span>
<span id="cb145-13"><a href="pac06.html#cb145-13"></a>    printf(<span class="st">&quot;Valor de resultat = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, resultat);</span>
<span id="cb145-14"><a href="pac06.html#cb145-14"></a>    printf(<span class="st">&quot;&gt;&gt; Inici execució acció</span><span class="sc">\n</span><span class="st">&quot;</span>); </span>
<span id="cb145-15"><a href="pac06.html#cb145-15"></a>    suma(num1, num2, pResultat);</span>
<span id="cb145-16"><a href="pac06.html#cb145-16"></a>    printf(<span class="st">&quot;Suma = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, resultat);</span>
<span id="cb145-17"><a href="pac06.html#cb145-17"></a>    printf(<span class="st">&quot;&gt;&gt; Fi execució acció</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb145-18"><a href="pac06.html#cb145-18"></a>    printf(<span class="st">&quot;Valor de resultat = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, resultat);</span>
<span id="cb145-19"><a href="pac06.html#cb145-19"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb145-20"><a href="pac06.html#cb145-20"></a>}</span>
<span id="cb145-21"><a href="pac06.html#cb145-21"></a></span>
<span id="cb145-22"><a href="pac06.html#cb145-22"></a><span class="co">/* Implementació de l&#39;acció */</span></span>
<span id="cb145-23"><a href="pac06.html#cb145-23"></a><span class="dt">void</span> suma(<span class="dt">int</span> n1, <span class="dt">int</span> n2, <span class="dt">int</span> *res) {</span>
<span id="cb145-24"><a href="pac06.html#cb145-24"></a>    *res = n1 + n2;</span>
<span id="cb145-25"><a href="pac06.html#cb145-25"></a>}</span></code></pre></div>
<p>L’execució generarà la següent sortida:</p>
<p>
<img src="img/play.png" float="right;" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb146-1"><a href="pac06.html#cb146-1"></a>Valor de num1 = <span class="dv">3</span></span>
<span id="cb146-2"><a href="pac06.html#cb146-2"></a>Valor de num2 = <span class="dv">2</span></span>
<span id="cb146-3"><a href="pac06.html#cb146-3"></a>Valor de resultat = <span class="dv">0</span></span>
<span id="cb146-4"><a href="pac06.html#cb146-4"></a>&gt;&gt; Inici execució acció</span>
<span id="cb146-5"><a href="pac06.html#cb146-5"></a>Suma = <span class="dv">5</span></span>
<span id="cb146-6"><a href="pac06.html#cb146-6"></a>&gt;&gt; Fi execució acció</span>
<span id="cb146-7"><a href="pac06.html#cb146-7"></a>Valor de resultat = <span class="dv">5</span></span></code></pre></div>
<p>De moment ignorarem que es tracta d’un punter: independientement del valor que tingui res al pasar-se per paràmetre, quan finalitzi l’acció contindrà la suma dels altres dos paràmetres d’entrada <code>num1</code> i <code>num2</code>.</p>
<p>El valor resultat ha canviat, de <code>0</code> a <code>5</code>. Es considera un <strong>paràmetre de sortida</strong> perquè, independientement del valor inicial que tingui aquest, no s’utilitza per res i en finalitzar l’acció contindrà el resultat de l’operació <code>suma()</code>.</p>
<p>Ara sí comentem el fet d’utilitzar el punter: la manera que tenim a C per modificar una variable definida fora d’una acció des de dins de la mateixa és treballant precisament amb la seva direcció de memòria.</p>
<p>Aquest tipus de paràmetre també es referencia com a paràmetre per referència, o pas per referència, ja que passem un punter.</p>
</div>
<div id="paràmetres-dentradasortida-inout" class="section level3" number="6.1.3">
<h3 number="6.1.3"><span class="header-section-number">6.1.3</span> Paràmetres d’entrada/sortida (inout)</h3>
<p>Aquest tipus de paràmetre és una suma dels dos comportaments anteriors: d’una banda el seu valor importa a l’hora de realitzar els càlculs de l’acció, i a la vegada en finalitzar l’execució de l’acció tindrà un valor diferent, també significatiu per tractar-se del resultat final del càlcul. Exemple:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb147-1"><a href="pac06.html#cb147-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb147-2"><a href="pac06.html#cb147-2"></a></span>
<span id="cb147-3"><a href="pac06.html#cb147-3"></a><span class="co">/* Predeclaració de l&#39;acció */</span></span>
<span id="cb147-4"><a href="pac06.html#cb147-4"></a><span class="dt">void</span> suma(<span class="dt">int</span> *pN1, <span class="dt">int</span> n2);</span>
<span id="cb147-5"><a href="pac06.html#cb147-5"></a></span>
<span id="cb147-6"><a href="pac06.html#cb147-6"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb147-7"><a href="pac06.html#cb147-7"></a>    <span class="dt">int</span> num1 = <span class="dv">3</span>;</span>
<span id="cb147-8"><a href="pac06.html#cb147-8"></a>    <span class="dt">int</span> num2 = <span class="dv">2</span>;</span>
<span id="cb147-9"><a href="pac06.html#cb147-9"></a>    <span class="dt">int</span> *pNum1 = &amp;num1;</span>
<span id="cb147-10"><a href="pac06.html#cb147-10"></a>    printf(<span class="st">&quot;Valor de num1 = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, num1);</span>
<span id="cb147-11"><a href="pac06.html#cb147-11"></a>    printf(<span class="st">&quot;Valor de num2 = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, num2);</span>
<span id="cb147-12"><a href="pac06.html#cb147-12"></a>    printf(<span class="st">&quot;&gt;&gt; Inici execució acció</span><span class="sc">\n</span><span class="st">&quot;</span>); </span>
<span id="cb147-13"><a href="pac06.html#cb147-13"></a>    suma(pNum1, num2);</span>
<span id="cb147-14"><a href="pac06.html#cb147-14"></a>    printf(<span class="st">&quot;Suma = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, num1);</span>
<span id="cb147-15"><a href="pac06.html#cb147-15"></a>    printf(<span class="st">&quot;&gt;&gt; Fi execució acció</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb147-16"><a href="pac06.html#cb147-16"></a>    printf(<span class="st">&quot;Valor de num1 = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, num1);</span>
<span id="cb147-17"><a href="pac06.html#cb147-17"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb147-18"><a href="pac06.html#cb147-18"></a>}</span>
<span id="cb147-19"><a href="pac06.html#cb147-19"></a></span>
<span id="cb147-20"><a href="pac06.html#cb147-20"></a><span class="co">/* Implementació de l&#39;acció */</span></span>
<span id="cb147-21"><a href="pac06.html#cb147-21"></a><span class="dt">void</span> suma(<span class="dt">int</span> *pN1, <span class="dt">int</span> n2) {</span>
<span id="cb147-22"><a href="pac06.html#cb147-22"></a>    *pN1 = *pN1 + n2;</span>
<span id="cb147-23"><a href="pac06.html#cb147-23"></a>}</span></code></pre></div>
<p>L’execució generarà la següent sortida:</p>
<p>
<img src="img/play.png" float="right;" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb148-1"><a href="pac06.html#cb148-1"></a>Valor de num1 = <span class="dv">3</span></span>
<span id="cb148-2"><a href="pac06.html#cb148-2"></a>Valor de num2 = <span class="dv">2</span></span>
<span id="cb148-3"><a href="pac06.html#cb148-3"></a>&gt;&gt; Inici execució acció</span>
<span id="cb148-4"><a href="pac06.html#cb148-4"></a>Suma = <span class="dv">5</span></span>
<span id="cb148-5"><a href="pac06.html#cb148-5"></a>&gt;&gt; Fi execució acció</span>
<span id="cb148-6"><a href="pac06.html#cb148-6"></a>Valor de num1 = <span class="dv">5</span></span></code></pre></div>
<p>En aquest cas s’ha realitzat la suma com a <code>num1 = num1 + num2</code> : el resultat de la suma de les dues variables es guarda a la primera d’elles. Així doncs el valor de la variable <code>num1</code> importa tant a l’entrada com a la sortida de l’acció, amb el que es tracta d’un <strong>paràmetre d’entrada/sortida</strong>.</p>
<p>Aquest tipus de paràmetre també es referencia com a paràmetre per referència, o pas per referència, ja que passem un punter.</p>
</div>
<div id="tuples-com-a-paràmetres" class="section level3" number="6.1.4">
<h3 number="6.1.4"><span class="header-section-number">6.1.4</span> Tuples com a paràmetres</h3>
<p>Quan un paràmetre d’una acció/funció és una tupla , la forma com accedirem als seus atributs dins de l’acció/funció variarà en funció del tipus de paràmetre:</p>
<ul>
<li>Paràmetres d’<strong>entrada</strong>: l’accessor als atributs és el <code>.</code> (un punt). Per tant dins de la funció/acció, accedirem als atributs de la tupla passada per paràmetre de la següent forma: <code>nomTupla.nomAtribut</code>.</li>
<li>Paràmetres de <strong>sortida</strong> i d’<strong>entrada/sortida</strong>: en aquest cas l’accessor als atributs de la tupla és <code>-&gt;</code>. Així, dins de l’acció podrem fer referència als atributs de la tupla passada per paràmetre de la forma: <code>nomTupla-&gt;nomAtribut</code>.</li>
</ul>
</div>
</div>
<div id="exemple-ús-daccions" class="section level2" number="6.2">
<h2 number="6.2"><span class="header-section-number">6.2</span> Exemple: ús d’accions</h2>
<p>A continuació s’adjunta un exemple inventat de com es poden definir accions que permetin modificar els atributs d’una tupla passada com a punter. Dins del codi hi ha comentaris addicionals per tal que quedi el més clar possible:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb149-1"><a href="pac06.html#cb149-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb149-2"><a href="pac06.html#cb149-2"></a></span>
<span id="cb149-3"><a href="pac06.html#cb149-3"></a><span class="pp">#define MAX_CHAR 10+1</span></span>
<span id="cb149-4"><a href="pac06.html#cb149-4"></a></span>
<span id="cb149-5"><a href="pac06.html#cb149-5"></a><span class="kw">typedef</span> <span class="kw">struct</span> {</span>
<span id="cb149-6"><a href="pac06.html#cb149-6"></a>    <span class="dt">char</span> nom[MAX_CHAR];</span>
<span id="cb149-7"><a href="pac06.html#cb149-7"></a>    <span class="dt">float</span> nomina;</span>
<span id="cb149-8"><a href="pac06.html#cb149-8"></a>} tEmpleat;</span>
<span id="cb149-9"><a href="pac06.html#cb149-9"></a></span>
<span id="cb149-10"><a href="pac06.html#cb149-10"></a><span class="co">/* Predeclaració de les accions */</span></span>
<span id="cb149-11"><a href="pac06.html#cb149-11"></a></span>
<span id="cb149-12"><a href="pac06.html#cb149-12"></a><span class="dt">void</span> printEmpleat(tEmpleat empleat);</span>
<span id="cb149-13"><a href="pac06.html#cb149-13"></a><span class="dt">void</span> setNominaEmpleat(tEmpleat *empleat, <span class="dt">float</span> nomina);</span>
<span id="cb149-14"><a href="pac06.html#cb149-14"></a><span class="dt">void</span> setNomEmpleat(tEmpleat *empleat, <span class="dt">char</span> nom[MAX_CHAR]);</span>
<span id="cb149-15"><a href="pac06.html#cb149-15"></a></span>
<span id="cb149-16"><a href="pac06.html#cb149-16"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb149-17"><a href="pac06.html#cb149-17"></a>    <span class="co">/* Declarem nouEmpleat de tipus tEmpleat,</span></span>
<span id="cb149-18"><a href="pac06.html#cb149-18"></a><span class="co">     * però no li donarem cap valor directament</span></span>
<span id="cb149-19"><a href="pac06.html#cb149-19"></a><span class="co">     * als seus dos atributs (nom i nomina): ho </span></span>
<span id="cb149-20"><a href="pac06.html#cb149-20"></a><span class="co">     * farem mitjançant dues accions </span></span>
<span id="cb149-21"><a href="pac06.html#cb149-21"></a><span class="co">     */</span></span>
<span id="cb149-22"><a href="pac06.html#cb149-22"></a>    tEmpleat nouEmpleat;</span>
<span id="cb149-23"><a href="pac06.html#cb149-23"></a>   </span>
<span id="cb149-24"><a href="pac06.html#cb149-24"></a>    <span class="co">/* Els valors dels atributs nom i nomina els</span></span>
<span id="cb149-25"><a href="pac06.html#cb149-25"></a><span class="co">     * llegirem des de teclat i els desarem inicialment</span></span>
<span id="cb149-26"><a href="pac06.html#cb149-26"></a><span class="co">     * en les següents dues variables </span></span>
<span id="cb149-27"><a href="pac06.html#cb149-27"></a><span class="co">     */</span></span>
<span id="cb149-28"><a href="pac06.html#cb149-28"></a>    <span class="dt">char</span> nom[MAX_CHAR];</span>
<span id="cb149-29"><a href="pac06.html#cb149-29"></a>    <span class="dt">float</span> nomina;</span>
<span id="cb149-30"><a href="pac06.html#cb149-30"></a>   </span>
<span id="cb149-31"><a href="pac06.html#cb149-31"></a>    printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Nom empleat : &quot;</span>);</span>
<span id="cb149-32"><a href="pac06.html#cb149-32"></a>    scanf(<span class="st">&quot;%s&quot;</span>, nom);</span>
<span id="cb149-33"><a href="pac06.html#cb149-33"></a>      </span>
<span id="cb149-34"><a href="pac06.html#cb149-34"></a>    printf(<span class="st">&quot;Nòmina empleat : &quot;</span>);</span>
<span id="cb149-35"><a href="pac06.html#cb149-35"></a>    scanf(<span class="st">&quot;%f&quot;</span>, &amp;nomina);</span>
<span id="cb149-36"><a href="pac06.html#cb149-36"></a>   </span>
<span id="cb149-37"><a href="pac06.html#cb149-37"></a>    <span class="co">/* Assignem el nom i la nòmina al tEmpleat nouEmpleat</span></span>
<span id="cb149-38"><a href="pac06.html#cb149-38"></a><span class="co">     * utilitzant les accions definides. Fixeu-vos</span></span>
<span id="cb149-39"><a href="pac06.html#cb149-39"></a><span class="co">     * que el paràmetre nouEmpleat el passem com a punter</span></span>
<span id="cb149-40"><a href="pac06.html#cb149-40"></a><span class="co">     * (passem la seva adreça en memòria, ja que va </span></span>
<span id="cb149-41"><a href="pac06.html#cb149-41"></a><span class="co">     * precedit per &amp;) </span></span>
<span id="cb149-42"><a href="pac06.html#cb149-42"></a><span class="co">     */</span></span>
<span id="cb149-43"><a href="pac06.html#cb149-43"></a>    setNomEmpleat(&amp;nouEmpleat, nom);</span>
<span id="cb149-44"><a href="pac06.html#cb149-44"></a>    setNominaEmpleat(&amp;nouEmpleat, nomina);</span>
<span id="cb149-45"><a href="pac06.html#cb149-45"></a>   </span>
<span id="cb149-46"><a href="pac06.html#cb149-46"></a>    <span class="co">/* Mostrem les dades de la tupla tEmpleat nouEmpleat</span></span>
<span id="cb149-47"><a href="pac06.html#cb149-47"></a><span class="co">     * per pantalla </span></span>
<span id="cb149-48"><a href="pac06.html#cb149-48"></a><span class="co">     */</span></span>
<span id="cb149-49"><a href="pac06.html#cb149-49"></a>    printEmpleat(nouEmpleat);</span>
<span id="cb149-50"><a href="pac06.html#cb149-50"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb149-51"><a href="pac06.html#cb149-51"></a>}</span>
<span id="cb149-52"><a href="pac06.html#cb149-52"></a></span>
<span id="cb149-53"><a href="pac06.html#cb149-53"></a><span class="co">/* Implementació de les accions */</span></span>
<span id="cb149-54"><a href="pac06.html#cb149-54"></a></span>
<span id="cb149-55"><a href="pac06.html#cb149-55"></a><span class="dt">void</span> printEmpleat(tEmpleat empleat) {</span>
<span id="cb149-56"><a href="pac06.html#cb149-56"></a>    <span class="co">/* El paràmetre empleat és d&#39;entrada, amb el</span></span>
<span id="cb149-57"><a href="pac06.html#cb149-57"></a><span class="co">     * que l&#39;accés als seus atributs ho farem</span></span>
<span id="cb149-58"><a href="pac06.html#cb149-58"></a><span class="co">     * amb un punt : empleat.nom, empleat.nomina </span></span>
<span id="cb149-59"><a href="pac06.html#cb149-59"></a><span class="co">     */</span></span>
<span id="cb149-60"><a href="pac06.html#cb149-60"></a>    printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Dades de l&#39;empleat: </span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb149-61"><a href="pac06.html#cb149-61"></a>    printf(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">Nom: %s</span><span class="sc">\n</span><span class="st">&quot;</span>, empleat.nom);</span>
<span id="cb149-62"><a href="pac06.html#cb149-62"></a>    printf(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">Nòmina: %.2f €</span><span class="sc">\n</span><span class="st">&quot;</span>, empleat.nomina);</span>
<span id="cb149-63"><a href="pac06.html#cb149-63"></a>}</span>
<span id="cb149-64"><a href="pac06.html#cb149-64"></a></span>
<span id="cb149-65"><a href="pac06.html#cb149-65"></a><span class="dt">void</span> setNominaEmpleat(tEmpleat *empleat, <span class="dt">float</span> nomina) {</span>
<span id="cb149-66"><a href="pac06.html#cb149-66"></a>    <span class="co">/* El paràmetre empleat (de tipus inout) és un punter,</span></span>
<span id="cb149-67"><a href="pac06.html#cb149-67"></a><span class="co">     * per tal que des de dins de l&#39;acció sigui possible</span></span>
<span id="cb149-68"><a href="pac06.html#cb149-68"></a><span class="co">     * modificar el valor (d&#39;un atribut) de l&#39;empleat</span></span>
<span id="cb149-69"><a href="pac06.html#cb149-69"></a><span class="co">     * definit al main del nostre programa, fora de l&#39;àmbit</span></span>
<span id="cb149-70"><a href="pac06.html#cb149-70"></a><span class="co">     * de l&#39;acció.</span></span>
<span id="cb149-71"><a href="pac06.html#cb149-71"></a><span class="co">     * L&#39;accés a un atribut d&#39;un element referenciat amb</span></span>
<span id="cb149-72"><a href="pac06.html#cb149-72"></a><span class="co">     * un punter es fa amb &#39;-&gt;&#39; : empleat-&gt;nomina. </span></span>
<span id="cb149-73"><a href="pac06.html#cb149-73"></a><span class="co">     */</span></span>
<span id="cb149-74"><a href="pac06.html#cb149-74"></a>    empleat-&gt;nomina = nomina;</span>
<span id="cb149-75"><a href="pac06.html#cb149-75"></a>}</span>
<span id="cb149-76"><a href="pac06.html#cb149-76"></a></span>
<span id="cb149-77"><a href="pac06.html#cb149-77"></a><span class="dt">void</span> setNomEmpleat(tEmpleat *empleat, <span class="dt">char</span> nom[MAX_CHAR]) {</span>
<span id="cb149-78"><a href="pac06.html#cb149-78"></a>    <span class="co">/* Idem que en l&#39;acció setNominaEmpleat. En aquest cas</span></span>
<span id="cb149-79"><a href="pac06.html#cb149-79"></a><span class="co">     * a més a més cal recordar que l&#39;assignació d&#39;strings</span></span>
<span id="cb149-80"><a href="pac06.html#cb149-80"></a><span class="co">     * la fem amb la funció strcpy de C, en comptes </span></span>
<span id="cb149-81"><a href="pac06.html#cb149-81"></a><span class="co">     * d&#39;utilitzar l&#39;assignació habitual &#39;=&#39; dels tipus </span></span>
<span id="cb149-82"><a href="pac06.html#cb149-82"></a><span class="co">     * primitius (char, int, float, ...) </span></span>
<span id="cb149-83"><a href="pac06.html#cb149-83"></a><span class="co">     */</span></span>
<span id="cb149-84"><a href="pac06.html#cb149-84"></a>    strcpy(empleat-&gt;nom, nom);</span>
<span id="cb149-85"><a href="pac06.html#cb149-85"></a>}</span></code></pre></div>
<p>Un exemple d’execució seria:</p>
<p>
<img src="img/play.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb150-1"><a href="pac06.html#cb150-1"></a>Nom empleat : Laura</span>
<span id="cb150-2"><a href="pac06.html#cb150-2"></a>Nòmina empleat : <span class="fl">1850.32</span></span>
<span id="cb150-3"><a href="pac06.html#cb150-3"></a></span>
<span id="cb150-4"><a href="pac06.html#cb150-4"></a>Dades de l&#39;empleat: </span>
<span id="cb150-5"><a href="pac06.html#cb150-5"></a>    Nom: Laura</span>
<span id="cb150-6"><a href="pac06.html#cb150-6"></a>    Nòmina: <span class="fl">1850.32</span> €</span></code></pre></div>
</div>
<div id="exemple-ús-de-funcions" class="section level2" number="6.3">
<h2 number="6.3"><span class="header-section-number">6.3</span> Exemple: ús de funcions</h2>
<p>Si necessitem un mètode que com a resultat retorni un string, en comptes d’utilitzar una funció farem servir una acció amb un paràmetre de sortida o d’entrada/sortida. Les funcions les farem servir per retornar valors de <strong>tipus primitiu</strong> (enter, decimal, caràcter), i deixarem els <strong>tipus compostos</strong> (vectors, tuples, etc.) per les accions.</p>
<p>A continuació s’exposa un exemple perquè quedi més clar:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb151-1"><a href="pac06.html#cb151-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb151-2"><a href="pac06.html#cb151-2"></a><span class="pp">#include </span><span class="im">&lt;string.h&gt;</span></span>
<span id="cb151-3"><a href="pac06.html#cb151-3"></a></span>
<span id="cb151-4"><a href="pac06.html#cb151-4"></a><span class="co">/* Programa que, donada una hora, indica</span></span>
<span id="cb151-5"><a href="pac06.html#cb151-5"></a><span class="co"> * a quina part del dia correspon.</span></span>
<span id="cb151-6"><a href="pac06.html#cb151-6"></a><span class="co"> * Per &quot;part del dia&quot; s&#39;entèn: matinada,</span></span>
<span id="cb151-7"><a href="pac06.html#cb151-7"></a><span class="co"> * matí, migdia, tarda, vespre i nit.</span></span>
<span id="cb151-8"><a href="pac06.html#cb151-8"></a><span class="co"> * L&#39;hora s&#39;aconsegueix mitjançant una</span></span>
<span id="cb151-9"><a href="pac06.html#cb151-9"></a><span class="co"> * funció, la qual retorna un valor</span></span>
<span id="cb151-10"><a href="pac06.html#cb151-10"></a><span class="co"> * enter en format HHMM (on HH=hora i</span></span>
<span id="cb151-11"><a href="pac06.html#cb151-11"></a><span class="co"> * MM=minut).</span></span>
<span id="cb151-12"><a href="pac06.html#cb151-12"></a><span class="co"> * D&#39;altra banda, el càlcul de la part</span></span>
<span id="cb151-13"><a href="pac06.html#cb151-13"></a><span class="co"> * del dia es realitza amb una acció,</span></span>
<span id="cb151-14"><a href="pac06.html#cb151-14"></a><span class="co"> * la qual rep dos paràmetres: un d&#39;entrada</span></span>
<span id="cb151-15"><a href="pac06.html#cb151-15"></a><span class="co"> * corresponent a l&#39;hora en format HHMM, </span></span>
<span id="cb151-16"><a href="pac06.html#cb151-16"></a><span class="co"> * i un altre de sortida que contindrà</span></span>
<span id="cb151-17"><a href="pac06.html#cb151-17"></a><span class="co"> * la part del dia (string) que correspon</span></span>
<span id="cb151-18"><a href="pac06.html#cb151-18"></a><span class="co"> * a l&#39;hora.</span></span>
<span id="cb151-19"><a href="pac06.html#cb151-19"></a><span class="co"> */</span></span>
<span id="cb151-20"><a href="pac06.html#cb151-20"></a></span>
<span id="cb151-21"><a href="pac06.html#cb151-21"></a><span class="pp">#define MAX_CHARS 8+1</span></span>
<span id="cb151-22"><a href="pac06.html#cb151-22"></a></span>
<span id="cb151-23"><a href="pac06.html#cb151-23"></a><span class="co">/* Predeclaració de funcions i accions */</span></span>
<span id="cb151-24"><a href="pac06.html#cb151-24"></a><span class="dt">void</span> calcularPartDelDia(<span class="dt">int</span> hora, <span class="dt">char</span> *part);</span>
<span id="cb151-25"><a href="pac06.html#cb151-25"></a><span class="dt">int</span> demanarHora();</span>
<span id="cb151-26"><a href="pac06.html#cb151-26"></a></span>
<span id="cb151-27"><a href="pac06.html#cb151-27"></a><span class="co">/* Programa principal */</span></span>
<span id="cb151-28"><a href="pac06.html#cb151-28"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb151-29"><a href="pac06.html#cb151-29"></a>    <span class="dt">int</span> hora;</span>
<span id="cb151-30"><a href="pac06.html#cb151-30"></a>    <span class="dt">char</span> partDelDia[MAX_CHARS];</span>
<span id="cb151-31"><a href="pac06.html#cb151-31"></a>    hora = demanarHora();</span>
<span id="cb151-32"><a href="pac06.html#cb151-32"></a>    calcularPartDelDia(hora, partDelDia);</span>
<span id="cb151-33"><a href="pac06.html#cb151-33"></a>    printf(<span class="st">&quot;L&#39;hora %d correspon a: %s </span><span class="sc">\n</span><span class="st">&quot;</span>, hora, partDelDia);</span>
<span id="cb151-34"><a href="pac06.html#cb151-34"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb151-35"><a href="pac06.html#cb151-35"></a>}</span>
<span id="cb151-36"><a href="pac06.html#cb151-36"></a></span>
<span id="cb151-37"><a href="pac06.html#cb151-37"></a><span class="co">/* Implementació de funcions i accions */</span></span>
<span id="cb151-38"><a href="pac06.html#cb151-38"></a></span>
<span id="cb151-39"><a href="pac06.html#cb151-39"></a><span class="co">/* Funció que retorna un enter, corresponent</span></span>
<span id="cb151-40"><a href="pac06.html#cb151-40"></a><span class="co"> * a l&#39;hora introduïda per teclat, en format</span></span>
<span id="cb151-41"><a href="pac06.html#cb151-41"></a><span class="co"> * HHMM</span></span>
<span id="cb151-42"><a href="pac06.html#cb151-42"></a><span class="co"> */</span></span>
<span id="cb151-43"><a href="pac06.html#cb151-43"></a><span class="dt">int</span> demanarHora() {</span>
<span id="cb151-44"><a href="pac06.html#cb151-44"></a>    <span class="dt">int</span> hora;</span>
<span id="cb151-45"><a href="pac06.html#cb151-45"></a>    printf(<span class="st">&quot;Tecleja hora (format HHMM) : &quot;</span>);</span>
<span id="cb151-46"><a href="pac06.html#cb151-46"></a>    scanf(<span class="st">&quot;%d&quot;</span>, &amp;hora);</span>
<span id="cb151-47"><a href="pac06.html#cb151-47"></a>    <span class="cf">return</span> hora;</span>
<span id="cb151-48"><a href="pac06.html#cb151-48"></a>}</span>
<span id="cb151-49"><a href="pac06.html#cb151-49"></a></span>
<span id="cb151-50"><a href="pac06.html#cb151-50"></a><span class="co">/* Acció que, donada una hora (paràmetre</span></span>
<span id="cb151-51"><a href="pac06.html#cb151-51"></a><span class="co"> * d&#39;entrada), calcula quina part del dia</span></span>
<span id="cb151-52"><a href="pac06.html#cb151-52"></a><span class="co"> * correspon (paràmetre de sortida). La</span></span>
<span id="cb151-53"><a href="pac06.html#cb151-53"></a><span class="co"> * part del dia és de tipus string. El</span></span>
<span id="cb151-54"><a href="pac06.html#cb151-54"></a><span class="co"> * paràmetre de sortida ha de ser un </span></span>
<span id="cb151-55"><a href="pac06.html#cb151-55"></a><span class="co"> * punter, per tal que des de dins de</span></span>
<span id="cb151-56"><a href="pac06.html#cb151-56"></a><span class="co"> * l&#39;acció es pugui modificar el valor</span></span>
<span id="cb151-57"><a href="pac06.html#cb151-57"></a><span class="co"> * de la variable definida fora de </span></span>
<span id="cb151-58"><a href="pac06.html#cb151-58"></a><span class="co"> * l&#39;acció, dins del main.</span></span>
<span id="cb151-59"><a href="pac06.html#cb151-59"></a><span class="co"> */</span></span>
<span id="cb151-60"><a href="pac06.html#cb151-60"></a><span class="dt">void</span> calcularPartDelDia(<span class="dt">int</span> hora, <span class="dt">char</span> *part) {</span>
<span id="cb151-61"><a href="pac06.html#cb151-61"></a></span>
<span id="cb151-62"><a href="pac06.html#cb151-62"></a>    <span class="co">/* Particionat horari extret de</span></span>
<span id="cb151-63"><a href="pac06.html#cb151-63"></a><span class="co">     * https://www.parlament.cat/document/intrade/6698</span></span>
<span id="cb151-64"><a href="pac06.html#cb151-64"></a><span class="co">     */</span></span>
<span id="cb151-65"><a href="pac06.html#cb151-65"></a></span>
<span id="cb151-66"><a href="pac06.html#cb151-66"></a>    <span class="co">/* 0 correspon a 0000 */</span></span>
<span id="cb151-67"><a href="pac06.html#cb151-67"></a>    <span class="co">/* 14 correspon a 0014 */</span></span>
<span id="cb151-68"><a href="pac06.html#cb151-68"></a>    <span class="cf">if</span> (hora &gt;= <span class="dv">0</span> &amp;&amp; hora &lt;= <span class="dv">14</span>) {</span>
<span id="cb151-69"><a href="pac06.html#cb151-69"></a>        strcpy(part, <span class="st">&quot;nit&quot;</span>);</span>
<span id="cb151-70"><a href="pac06.html#cb151-70"></a>    } <span class="cf">else</span> {</span>
<span id="cb151-71"><a href="pac06.html#cb151-71"></a>        <span class="co">/* 414 correspon a 0414 */</span></span>
<span id="cb151-72"><a href="pac06.html#cb151-72"></a>        <span class="cf">if</span> (hora &gt; <span class="dv">14</span> &amp;&amp; hora &lt;= <span class="dv">414</span>) {</span>
<span id="cb151-73"><a href="pac06.html#cb151-73"></a>            strcpy(part, <span class="st">&quot;matinada&quot;</span>);</span>
<span id="cb151-74"><a href="pac06.html#cb151-74"></a>        } <span class="cf">else</span> {</span>
<span id="cb151-75"><a href="pac06.html#cb151-75"></a>            <span class="co">/* 0500 correspon a 500 */</span></span>
<span id="cb151-76"><a href="pac06.html#cb151-76"></a>            <span class="cf">if</span> (hora &gt; <span class="dv">414</span> &amp;&amp; hora &lt;= <span class="dv">1114</span>) {</span>
<span id="cb151-77"><a href="pac06.html#cb151-77"></a>                strcpy(part, <span class="st">&quot;matí&quot;</span>);</span>
<span id="cb151-78"><a href="pac06.html#cb151-78"></a>            } <span class="cf">else</span> {</span>
<span id="cb151-79"><a href="pac06.html#cb151-79"></a>                <span class="cf">if</span> (hora &gt; <span class="dv">1114</span> &amp;&amp; hora &lt;= <span class="dv">1414</span>) {</span>
<span id="cb151-80"><a href="pac06.html#cb151-80"></a>                    strcpy(part, <span class="st">&quot;migdia&quot;</span>);</span>
<span id="cb151-81"><a href="pac06.html#cb151-81"></a>                } <span class="cf">else</span> {</span>
<span id="cb151-82"><a href="pac06.html#cb151-82"></a>                    <span class="cf">if</span> (hora &gt; <span class="dv">1414</span> &amp;&amp; hora &lt;= <span class="dv">1814</span>) {</span>
<span id="cb151-83"><a href="pac06.html#cb151-83"></a>                        strcpy(part, <span class="st">&quot;tarda&quot;</span>);</span>
<span id="cb151-84"><a href="pac06.html#cb151-84"></a>                    } <span class="cf">else</span> {</span>
<span id="cb151-85"><a href="pac06.html#cb151-85"></a>                        <span class="cf">if</span> (hora &gt; <span class="dv">1814</span> &amp;&amp; hora &lt;= <span class="dv">2214</span>) {</span>
<span id="cb151-86"><a href="pac06.html#cb151-86"></a>                            strcpy(part, <span class="st">&quot;vespre&quot;</span>);</span>
<span id="cb151-87"><a href="pac06.html#cb151-87"></a>                        } <span class="cf">else</span> {</span>
<span id="cb151-88"><a href="pac06.html#cb151-88"></a>                            <span class="cf">if</span> (hora &gt; <span class="dv">2214</span> &amp;&amp; hora &lt;= <span class="dv">2359</span>) {</span>
<span id="cb151-89"><a href="pac06.html#cb151-89"></a>                                strcpy(part, <span class="st">&quot;vespre&quot;</span>);</span>
<span id="cb151-90"><a href="pac06.html#cb151-90"></a>                            } <span class="cf">else</span> {</span>
<span id="cb151-91"><a href="pac06.html#cb151-91"></a>                                strcpy(part, <span class="st">&quot;unknown!&quot;</span>);</span>
<span id="cb151-92"><a href="pac06.html#cb151-92"></a>                            }</span>
<span id="cb151-93"><a href="pac06.html#cb151-93"></a>                        }</span>
<span id="cb151-94"><a href="pac06.html#cb151-94"></a>                    }</span>
<span id="cb151-95"><a href="pac06.html#cb151-95"></a>                }</span>
<span id="cb151-96"><a href="pac06.html#cb151-96"></a>            }</span>
<span id="cb151-97"><a href="pac06.html#cb151-97"></a>        }</span>
<span id="cb151-98"><a href="pac06.html#cb151-98"></a>    }</span>
<span id="cb151-99"><a href="pac06.html#cb151-99"></a>}</span></code></pre></div>
<p>Un exemple d’execució:</p>
<p>
<img src="img/play.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb152-1"><a href="pac06.html#cb152-1"></a>Tecleja hora (format HHMM) : <span class="dv">1906</span></span>
<span id="cb152-2"><a href="pac06.html#cb152-2"></a>L&#39;hora <span class="dv">1906</span> correspon a: vespre</span></code></pre></div>
</div>
<div id="exemple-nòmines-1" class="section level2" number="6.4">
<h2 number="6.4"><span class="header-section-number">6.4</span> Exemple: nòmines</h2>
<p>Imaginem que treballem amb els empleats d’una empresa. Posem per cas que després d’introduir n-empleats al nostre sistema, volem una funció que ens retorni l’empleat que té la nòmina més petita.
Com que esperem un valor de retorn, estem davant d’una funció. A la funció li passarem un vector d’empleats amb tots els empleats que prèviament hem introduit a la nostra empresa.</p>
<p>Sense entrar en la codificació de la funció, el main del nostre programa pot ser similar al següent:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb153-1"><a href="pac06.html#cb153-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb153-2"><a href="pac06.html#cb153-2"></a><span class="pp">#include </span><span class="im">&lt;string.h&gt;</span></span>
<span id="cb153-3"><a href="pac06.html#cb153-3"></a></span>
<span id="cb153-4"><a href="pac06.html#cb153-4"></a><span class="pp">#define MAX_EMPLEATS 2</span></span>
<span id="cb153-5"><a href="pac06.html#cb153-5"></a><span class="pp">#define MAX_CARACTERS 20+1</span></span>
<span id="cb153-6"><a href="pac06.html#cb153-6"></a></span>
<span id="cb153-7"><a href="pac06.html#cb153-7"></a><span class="kw">typedef</span> <span class="kw">struct</span> {</span>
<span id="cb153-8"><a href="pac06.html#cb153-8"></a>    <span class="dt">char</span> nom[MAX_CARACTERS];</span>
<span id="cb153-9"><a href="pac06.html#cb153-9"></a>    <span class="dt">char</span> cognom[MAX_CARACTERS];</span>
<span id="cb153-10"><a href="pac06.html#cb153-10"></a>    <span class="dt">float</span> nomina;</span>
<span id="cb153-11"><a href="pac06.html#cb153-11"></a>} tEmpleat;</span>
<span id="cb153-12"><a href="pac06.html#cb153-12"></a></span>
<span id="cb153-13"><a href="pac06.html#cb153-13"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb153-14"><a href="pac06.html#cb153-14"></a>    tEmpleat vEmpleats[MAX_EMPLEATS];</span>
<span id="cb153-15"><a href="pac06.html#cb153-15"></a>    <span class="dt">int</span> i = <span class="dv">0</span>;</span>
<span id="cb153-16"><a href="pac06.html#cb153-16"></a></span>
<span id="cb153-17"><a href="pac06.html#cb153-17"></a>    <span class="cf">for</span> (i=<span class="dv">0</span>; i&lt;MAX_EMPLEATS; i++) {</span>
<span id="cb153-18"><a href="pac06.html#cb153-18"></a>        printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Nom empleat %d : &quot;</span>, i);</span>
<span id="cb153-19"><a href="pac06.html#cb153-19"></a>        scanf(<span class="st">&quot;%s&quot;</span>, vEmpleats[i].nom);</span>
<span id="cb153-20"><a href="pac06.html#cb153-20"></a>        printf(<span class="st">&quot;Cognom empleat %d : &quot;</span>, i);</span>
<span id="cb153-21"><a href="pac06.html#cb153-21"></a>        scanf(<span class="st">&quot;%s&quot;</span>, vEmpleats[i].cognom);</span>
<span id="cb153-22"><a href="pac06.html#cb153-22"></a>        printf(<span class="st">&quot;Nòmina empleat %d : &quot;</span>, i);</span>
<span id="cb153-23"><a href="pac06.html#cb153-23"></a>        scanf(<span class="st">&quot;%f&quot;</span>, &amp;vEmpleats[i].nomina);</span>
<span id="cb153-24"><a href="pac06.html#cb153-24"></a>    }</span>
<span id="cb153-25"><a href="pac06.html#cb153-25"></a>    tEmpleat empleat = cercaEmpleatNominaMinima(vEmpleats);</span>
<span id="cb153-26"><a href="pac06.html#cb153-26"></a>    printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">L&#39;empleat amb la nòmina més baixa és %s, %s (%.2f €)&quot;</span>, empleat.cognom, empleat.nom, empleat.nomina);</span>
<span id="cb153-27"><a href="pac06.html#cb153-27"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb153-28"><a href="pac06.html#cb153-28"></a>}</span></code></pre></div>
<p>Fins aquest punt no hi ha res nou: utilitzem un vector de <code>tEmpleat</code> per tal d’anar introduint els empleats per teclat, i per cada empleat demanem el nom, el cognom i la seva nòmina.</p>
<p>El que cal fer ara és implementar la funció <code>cercaEmpleatNominaMinima</code>, que rep com a paràmetre el vector d’empleats de l’empresa.</p>
<p>De moment oblidem-nos que estem davant d’una funció, simplement centrem-nos en quina és l’acció que volem fer. En aquest cas, volem fer un programa que recorri un a un tots els elements d’un vector, i trobi l’empleat que cobra menys.</p>
<p>Una possible codificació seria la següent:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb154-1"><a href="pac06.html#cb154-1"></a><span class="dt">int</span> i = <span class="dv">0</span>; </span>
<span id="cb154-2"><a href="pac06.html#cb154-2"></a><span class="dt">int</span> minNomina = <span class="dv">0</span>;</span>
<span id="cb154-3"><a href="pac06.html#cb154-3"></a><span class="cf">for</span> (i=<span class="dv">0</span>; i&lt;MAX_EMPLEATS; i++) {</span>
<span id="cb154-4"><a href="pac06.html#cb154-4"></a>    <span class="cf">if</span> (vector[i].nomina &lt; vector[minNomina].nomina) {</span>
<span id="cb154-5"><a href="pac06.html#cb154-5"></a>        minNomina = i;</span>
<span id="cb154-6"><a href="pac06.html#cb154-6"></a>    }</span>
<span id="cb154-7"><a href="pac06.html#cb154-7"></a>}</span></code></pre></div>
<p>Aquest fragment de codi simplement recorre un a un tots els <code>tEmpleat</code> d’un vector, comparant la nòmina més baixa trobada fins el moment amb la de l’empleat que està tractant en qüestió, i si aquesta segona és més baixa, ens quedem amb la seva posició dins del vector com a empleat amb la nòmina més baixa.</p>
<p>Ara convertim aquest fragment de codi en una funció:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb155-1"><a href="pac06.html#cb155-1"></a>tEmpleat cercaEmpleatNominaMinima(tEmpleat vector[MAX_EMPLEATS]) {</span>
<span id="cb155-2"><a href="pac06.html#cb155-2"></a>    <span class="dt">int</span> i = <span class="dv">0</span>; </span>
<span id="cb155-3"><a href="pac06.html#cb155-3"></a>    <span class="dt">int</span> minNomina = <span class="dv">0</span>;</span>
<span id="cb155-4"><a href="pac06.html#cb155-4"></a></span>
<span id="cb155-5"><a href="pac06.html#cb155-5"></a>    <span class="cf">for</span> (i=<span class="dv">0</span>; i&lt;MAX_EMPLEATS; i++) {</span>
<span id="cb155-6"><a href="pac06.html#cb155-6"></a>        <span class="cf">if</span> (vector[i].nomina &lt; vector[minNomina].nomina) {</span>
<span id="cb155-7"><a href="pac06.html#cb155-7"></a>            minNomina = i;</span>
<span id="cb155-8"><a href="pac06.html#cb155-8"></a>        }</span>
<span id="cb155-9"><a href="pac06.html#cb155-9"></a>    }</span>
<span id="cb155-10"><a href="pac06.html#cb155-10"></a>    <span class="cf">return</span> vector[minNomina];</span>
<span id="cb155-11"><a href="pac06.html#cb155-11"></a>}</span></code></pre></div>
<p>Com es pot veure, l’única diferència és que ara el codi té la capçalera de la funció, la qual ens diu que rep com a paràmetre un element de tipus vector de <code>tEmpleat</code>, i que retornarà un element de tipus <code>tEmpleat</code>.</p>
<p>D’aquesta forma el programa complet queda de la següent manera:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb156-1"><a href="pac06.html#cb156-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb156-2"><a href="pac06.html#cb156-2"></a><span class="pp">#include </span><span class="im">&lt;string.h&gt;</span></span>
<span id="cb156-3"><a href="pac06.html#cb156-3"></a></span>
<span id="cb156-4"><a href="pac06.html#cb156-4"></a><span class="pp">#define MAX_EMPLEATS 2</span></span>
<span id="cb156-5"><a href="pac06.html#cb156-5"></a><span class="pp">#define MAX_CARACTERS 20+1</span></span>
<span id="cb156-6"><a href="pac06.html#cb156-6"></a></span>
<span id="cb156-7"><a href="pac06.html#cb156-7"></a><span class="kw">typedef</span> <span class="kw">struct</span> {</span>
<span id="cb156-8"><a href="pac06.html#cb156-8"></a>    <span class="dt">char</span> nom[MAX_CARACTERS];</span>
<span id="cb156-9"><a href="pac06.html#cb156-9"></a>    <span class="dt">char</span> cognom[MAX_CARACTERS];</span>
<span id="cb156-10"><a href="pac06.html#cb156-10"></a>    <span class="dt">float</span> nomina;</span>
<span id="cb156-11"><a href="pac06.html#cb156-11"></a>} tEmpleat;</span>
<span id="cb156-12"><a href="pac06.html#cb156-12"></a></span>
<span id="cb156-13"><a href="pac06.html#cb156-13"></a><span class="co">/* Predeclaració de funcions/accions */</span></span>
<span id="cb156-14"><a href="pac06.html#cb156-14"></a>tEmpleat cercaEmpleatNominaMinima(tEmpleat vector[MAX_EMPLEATS]);</span>
<span id="cb156-15"><a href="pac06.html#cb156-15"></a></span>
<span id="cb156-16"><a href="pac06.html#cb156-16"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb156-17"><a href="pac06.html#cb156-17"></a>    tEmpleat vEmpleats[MAX_EMPLEATS];</span>
<span id="cb156-18"><a href="pac06.html#cb156-18"></a>    <span class="dt">int</span> i = <span class="dv">0</span>;</span>
<span id="cb156-19"><a href="pac06.html#cb156-19"></a></span>
<span id="cb156-20"><a href="pac06.html#cb156-20"></a>    <span class="cf">for</span> (i=<span class="dv">0</span>; i&lt;MAX_EMPLEATS; i++) {</span>
<span id="cb156-21"><a href="pac06.html#cb156-21"></a>        printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Nom empleat %d : &quot;</span>, i);</span>
<span id="cb156-22"><a href="pac06.html#cb156-22"></a>        scanf(<span class="st">&quot;%s&quot;</span>, vEmpleats[i].nom);</span>
<span id="cb156-23"><a href="pac06.html#cb156-23"></a>        printf(<span class="st">&quot;Cognom empleat %d : &quot;</span>, i);</span>
<span id="cb156-24"><a href="pac06.html#cb156-24"></a>        scanf(<span class="st">&quot;%s&quot;</span>, vEmpleats[i].cognom);</span>
<span id="cb156-25"><a href="pac06.html#cb156-25"></a>        printf(<span class="st">&quot;Nòmina empleat %d : &quot;</span>, i);</span>
<span id="cb156-26"><a href="pac06.html#cb156-26"></a>        scanf(<span class="st">&quot;%f&quot;</span>, &amp;vEmpleats[i].nomina);</span>
<span id="cb156-27"><a href="pac06.html#cb156-27"></a>    }</span>
<span id="cb156-28"><a href="pac06.html#cb156-28"></a>    tEmpleat empleat = cercaEmpleatNominaMinima(vEmpleats);</span>
<span id="cb156-29"><a href="pac06.html#cb156-29"></a>    printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">L&#39;empleat amb la nòmina més baixa és %s, %s (%.2f €)&quot;</span>, empleat.cognom, empleat.nom, empleat.nomina);</span>
<span id="cb156-30"><a href="pac06.html#cb156-30"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb156-31"><a href="pac06.html#cb156-31"></a>}</span>
<span id="cb156-32"><a href="pac06.html#cb156-32"></a></span>
<span id="cb156-33"><a href="pac06.html#cb156-33"></a><span class="co">/* Implementació de funcions/accions */</span></span>
<span id="cb156-34"><a href="pac06.html#cb156-34"></a>tEmpleat cercaEmpleatNominaMinima(tEmpleat vector[MAX_EMPLEATS]) {</span>
<span id="cb156-35"><a href="pac06.html#cb156-35"></a>    <span class="dt">int</span> i = <span class="dv">0</span>; </span>
<span id="cb156-36"><a href="pac06.html#cb156-36"></a>    <span class="dt">int</span> minNomina = <span class="dv">0</span>;</span>
<span id="cb156-37"><a href="pac06.html#cb156-37"></a>    <span class="cf">for</span> (i=<span class="dv">0</span>; i&lt;MAX_EMPLEATS; i++) {</span>
<span id="cb156-38"><a href="pac06.html#cb156-38"></a>        <span class="cf">if</span> (vector[i].nomina &lt; vector[minNomina].nomina) {</span>
<span id="cb156-39"><a href="pac06.html#cb156-39"></a>            minNomina = i;</span>
<span id="cb156-40"><a href="pac06.html#cb156-40"></a>        }</span>
<span id="cb156-41"><a href="pac06.html#cb156-41"></a>    }</span>
<span id="cb156-42"><a href="pac06.html#cb156-42"></a>    <span class="cf">return</span> vector[minNomina];</span>
<span id="cb156-43"><a href="pac06.html#cb156-43"></a>}</span></code></pre></div>
<p>Aquest exemple pot semblar senzill perquè el tipus de comparació que estem fent és numèrica: comparem dos camps de tipus <code>float</code> (les nòmines de dos empleats).</p>
<p>Ampliem ara la funcionalitat del nostre programa: volem que pugui fer una cerca per cognom entre els nostres empleats. Per fer aquesta cerca, caldrà comparar una cadena de caràcters amb el cognom de cada empleat.</p>
<p>Per no fer la funció més complexa del necessari, imaginarem que cap cognom es pot repetir i que sempre trobarem un cognom com el que busquem (l’objectiu és veure com funciona <code>strcmp()</code>). Així doncs la nostra funció rebrà un vector d’empleats i un cognom a cercar, i retornarà l’empleat amb aquell cognom.</p>
<p>Poso tot el codi complet, comentant la part de l’<code>strcmp()</code> detalladament:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb157-1"><a href="pac06.html#cb157-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb157-2"><a href="pac06.html#cb157-2"></a><span class="pp">#include </span><span class="im">&lt;string.h&gt;</span></span>
<span id="cb157-3"><a href="pac06.html#cb157-3"></a></span>
<span id="cb157-4"><a href="pac06.html#cb157-4"></a><span class="pp">#define MAX_EMPLEATS 2</span></span>
<span id="cb157-5"><a href="pac06.html#cb157-5"></a><span class="pp">#define MAX_CARACTERS 20+1</span></span>
<span id="cb157-6"><a href="pac06.html#cb157-6"></a></span>
<span id="cb157-7"><a href="pac06.html#cb157-7"></a><span class="kw">typedef</span> <span class="kw">struct</span> {</span>
<span id="cb157-8"><a href="pac06.html#cb157-8"></a>    <span class="dt">char</span> nom[MAX_CARACTERS];</span>
<span id="cb157-9"><a href="pac06.html#cb157-9"></a>    <span class="dt">char</span> cognom[MAX_CARACTERS];</span>
<span id="cb157-10"><a href="pac06.html#cb157-10"></a>    <span class="dt">float</span> nomina;</span>
<span id="cb157-11"><a href="pac06.html#cb157-11"></a>} tEmpleat;</span>
<span id="cb157-12"><a href="pac06.html#cb157-12"></a></span>
<span id="cb157-13"><a href="pac06.html#cb157-13"></a><span class="co">/* Predeclaració de funcions/accions */</span></span>
<span id="cb157-14"><a href="pac06.html#cb157-14"></a>tEmpleat cercaEmpleatNominaMinima(tEmpleat vector[MAX_EMPLEATS]);</span>
<span id="cb157-15"><a href="pac06.html#cb157-15"></a>tEmpleat cercaEmpleatPerCognom(tEmpleat vector[MAX_EMPLEATS], <span class="dt">char</span> cognom[MAX_CARACTERS]);</span>
<span id="cb157-16"><a href="pac06.html#cb157-16"></a></span>
<span id="cb157-17"><a href="pac06.html#cb157-17"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb157-18"><a href="pac06.html#cb157-18"></a>    tEmpleat vEmpleats[MAX_EMPLEATS];</span>
<span id="cb157-19"><a href="pac06.html#cb157-19"></a>    <span class="dt">char</span> cognom[MAX_CARACTERS];</span>
<span id="cb157-20"><a href="pac06.html#cb157-20"></a>    <span class="dt">int</span> i = <span class="dv">0</span>;</span>
<span id="cb157-21"><a href="pac06.html#cb157-21"></a></span>
<span id="cb157-22"><a href="pac06.html#cb157-22"></a>    <span class="cf">for</span> (i=<span class="dv">0</span>; i&lt;MAX_EMPLEATS; i++) {</span>
<span id="cb157-23"><a href="pac06.html#cb157-23"></a>        printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Nom empleat %d : &quot;</span>, i);</span>
<span id="cb157-24"><a href="pac06.html#cb157-24"></a>        scanf(<span class="st">&quot;%s&quot;</span>, vEmpleats[i].nom);</span>
<span id="cb157-25"><a href="pac06.html#cb157-25"></a>        printf(<span class="st">&quot;Cognom empleat %d : &quot;</span>, i);</span>
<span id="cb157-26"><a href="pac06.html#cb157-26"></a>        scanf(<span class="st">&quot;%s&quot;</span>, vEmpleats[i].cognom);</span>
<span id="cb157-27"><a href="pac06.html#cb157-27"></a>        printf(<span class="st">&quot;Nòmina empleat %d : &quot;</span>, i);</span>
<span id="cb157-28"><a href="pac06.html#cb157-28"></a>        scanf(<span class="st">&quot;%f&quot;</span>, &amp;vEmpleats[i].nomina);</span>
<span id="cb157-29"><a href="pac06.html#cb157-29"></a>    }</span>
<span id="cb157-30"><a href="pac06.html#cb157-30"></a>    tEmpleat empleat = cercaEmpleatNominaMinima(vEmpleats);</span>
<span id="cb157-31"><a href="pac06.html#cb157-31"></a>    printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">L&#39;empleat amb la nòmina més baixa és %s, %s (%.2f €)&quot;</span>, empleat.cognom, empleat.nom, empleat.nomina);</span>
<span id="cb157-32"><a href="pac06.html#cb157-32"></a></span>
<span id="cb157-33"><a href="pac06.html#cb157-33"></a>    printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Cognom de l&#39;empleat a cercar : &quot;</span>);</span>
<span id="cb157-34"><a href="pac06.html#cb157-34"></a>    scanf(<span class="st">&quot;%s&quot;</span>, cognom);</span>
<span id="cb157-35"><a href="pac06.html#cb157-35"></a></span>
<span id="cb157-36"><a href="pac06.html#cb157-36"></a>    tEmpleat empleatCognom = cercaEmpleatPerCognom(vEmpleats, cognom);</span>
<span id="cb157-37"><a href="pac06.html#cb157-37"></a>    printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Dades de l&#39;empleat: %s, %s -&gt; %f&quot;</span>, empleatCognom.cognom, empleatCognom.nom, empleatCognom.nomina);</span>
<span id="cb157-38"><a href="pac06.html#cb157-38"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb157-39"><a href="pac06.html#cb157-39"></a>}</span>
<span id="cb157-40"><a href="pac06.html#cb157-40"></a></span>
<span id="cb157-41"><a href="pac06.html#cb157-41"></a><span class="co">/* Implementació de funcions/accions */</span></span>
<span id="cb157-42"><a href="pac06.html#cb157-42"></a>tEmpleat cercaEmpleatNominaMinima(tEmpleat vector[MAX_EMPLEATS]) {</span>
<span id="cb157-43"><a href="pac06.html#cb157-43"></a>    <span class="dt">int</span> i = <span class="dv">0</span>; </span>
<span id="cb157-44"><a href="pac06.html#cb157-44"></a>    <span class="dt">int</span> minNomina = <span class="dv">0</span>;</span>
<span id="cb157-45"><a href="pac06.html#cb157-45"></a>    <span class="cf">for</span> (i=<span class="dv">0</span>; i&lt;MAX_EMPLEATS; i++) {</span>
<span id="cb157-46"><a href="pac06.html#cb157-46"></a>        <span class="cf">if</span> (vector[i].nomina &lt; vector[minNomina].nomina) {</span>
<span id="cb157-47"><a href="pac06.html#cb157-47"></a>            minNomina = i;</span>
<span id="cb157-48"><a href="pac06.html#cb157-48"></a>        }</span>
<span id="cb157-49"><a href="pac06.html#cb157-49"></a>    }</span>
<span id="cb157-50"><a href="pac06.html#cb157-50"></a>    <span class="cf">return</span> vector[minNomina];</span>
<span id="cb157-51"><a href="pac06.html#cb157-51"></a>}</span>
<span id="cb157-52"><a href="pac06.html#cb157-52"></a></span>
<span id="cb157-53"><a href="pac06.html#cb157-53"></a>tEmpleat cercaEmpleatPerCognom(tEmpleat vector[MAX_EMPLEATS], <span class="dt">char</span> cognom[MAX_CARACTERS]) {</span>
<span id="cb157-54"><a href="pac06.html#cb157-54"></a>    <span class="dt">int</span> i = <span class="dv">0</span>; </span>
<span id="cb157-55"><a href="pac06.html#cb157-55"></a>    tEmpleat empleat;</span>
<span id="cb157-56"><a href="pac06.html#cb157-56"></a></span>
<span id="cb157-57"><a href="pac06.html#cb157-57"></a>    <span class="cf">for</span> (i=<span class="dv">0</span>; i&lt;MAX_EMPLEATS; i++) {</span>
<span id="cb157-58"><a href="pac06.html#cb157-58"></a>        <span class="co">/* Per comparar strings utilitzarem la funció</span></span>
<span id="cb157-59"><a href="pac06.html#cb157-59"></a><span class="co">         *  strcmp() de C. Aquesta funció compara dues</span></span>
<span id="cb157-60"><a href="pac06.html#cb157-60"></a><span class="co">         *  cadenes de caràcters, i retorna un valor</span></span>
<span id="cb157-61"><a href="pac06.html#cb157-61"></a><span class="co">         *  com a resultat de la comparació:</span></span>
<span id="cb157-62"><a href="pac06.html#cb157-62"></a><span class="co">         *  - si el valor és 0: les dues cadenes són iguals</span></span>
<span id="cb157-63"><a href="pac06.html#cb157-63"></a><span class="co">         *  - si el valor és -1: la primera cadena &lt; segona cadena</span></span>
<span id="cb157-64"><a href="pac06.html#cb157-64"></a><span class="co">         *  - si el valor és 1: la primera cadena &gt; segona cadena</span></span>
<span id="cb157-65"><a href="pac06.html#cb157-65"></a><span class="co">         *  En el nostre cas ens interessa detectar que</span></span>
<span id="cb157-66"><a href="pac06.html#cb157-66"></a><span class="co">         *  els cognoms siguin iguals, amb el que </span></span>
<span id="cb157-67"><a href="pac06.html#cb157-67"></a><span class="co">         *  volem controlar que el valor que retorna</span></span>
<span id="cb157-68"><a href="pac06.html#cb157-68"></a><span class="co">         *  la funció strcmp() sigui 0. </span></span>
<span id="cb157-69"><a href="pac06.html#cb157-69"></a><span class="co">         */</span></span>
<span id="cb157-70"><a href="pac06.html#cb157-70"></a>        <span class="cf">if</span> (strcmp(vector[i].cognom, cognom) == <span class="dv">0</span>) {</span>
<span id="cb157-71"><a href="pac06.html#cb157-71"></a>            <span class="cf">return</span> vector[i];</span>
<span id="cb157-72"><a href="pac06.html#cb157-72"></a>        }</span>
<span id="cb157-73"><a href="pac06.html#cb157-73"></a>    }</span>
<span id="cb157-74"><a href="pac06.html#cb157-74"></a>}</span></code></pre></div>
</div>
<div id="exemple-pivotdefensiu" class="section level2" number="6.5">
<h2 number="6.5"><span class="header-section-number">6.5</span> Exemple: pivotDefensiu</h2>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb158-1"><a href="pac06.html#cb158-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb158-2"><a href="pac06.html#cb158-2"></a><span class="pp">#include </span><span class="im">&lt;string.h&gt;</span></span>
<span id="cb158-3"><a href="pac06.html#cb158-3"></a></span>
<span id="cb158-4"><a href="pac06.html#cb158-4"></a><span class="co">/* Rebem una petició d&#39;un equip femení de bàsquet,</span></span>
<span id="cb158-5"><a href="pac06.html#cb158-5"></a><span class="co"> * en el qual ens demanen un programa que els permeti</span></span>
<span id="cb158-6"><a href="pac06.html#cb158-6"></a><span class="co"> * seleccionar la millor pivot defensiu d&#39;entre una </span></span>
<span id="cb158-7"><a href="pac06.html#cb158-7"></a><span class="co"> * sèrie de candidates.</span></span>
<span id="cb158-8"><a href="pac06.html#cb158-8"></a><span class="co"> * La millor pivot defensiu és aquella que captura</span></span>
<span id="cb158-9"><a href="pac06.html#cb158-9"></a><span class="co"> * més rebots; en cas d&#39;empat, s&#39;escollirà la que</span></span>
<span id="cb158-10"><a href="pac06.html#cb158-10"></a><span class="co"> * faci més taps.</span></span>
<span id="cb158-11"><a href="pac06.html#cb158-11"></a><span class="co"> * Caldrà implementar 3 accions i 1 funció:</span></span>
<span id="cb158-12"><a href="pac06.html#cb158-12"></a><span class="co"> * - acció llegirJugadora(j): llegeix de teclat i</span></span>
<span id="cb158-13"><a href="pac06.html#cb158-13"></a><span class="co"> *   guarda tots els atributs de la jugadora a la</span></span>
<span id="cb158-14"><a href="pac06.html#cb158-14"></a><span class="co"> *   tupla j.</span></span>
<span id="cb158-15"><a href="pac06.html#cb158-15"></a><span class="co"> * - acció mostrarJugadora(j): mostra per pantalla</span></span>
<span id="cb158-16"><a href="pac06.html#cb158-16"></a><span class="co"> *   el valor dels atributs de la tupla j.</span></span>
<span id="cb158-17"><a href="pac06.html#cb158-17"></a><span class="co"> * - acció copiarJugadores(j1, j2): copia el valor</span></span>
<span id="cb158-18"><a href="pac06.html#cb158-18"></a><span class="co"> *   de tots els atributs de j2 cap a j1.</span></span>
<span id="cb158-19"><a href="pac06.html#cb158-19"></a><span class="co"> * - funció compararJugadores(j1, j2): retorna -1 en </span></span>
<span id="cb158-20"><a href="pac06.html#cb158-20"></a><span class="co"> *   cas que la millor pivot sigui j1, i 1 en cas </span></span>
<span id="cb158-21"><a href="pac06.html#cb158-21"></a><span class="co"> *   que la millor sigui j2.</span></span>
<span id="cb158-22"><a href="pac06.html#cb158-22"></a><span class="co"> */</span></span>
<span id="cb158-23"><a href="pac06.html#cb158-23"></a><span class="pp">#define MAX_NOM 20+1</span></span>
<span id="cb158-24"><a href="pac06.html#cb158-24"></a><span class="pp">#define MAX_COGNOM 20+1</span></span>
<span id="cb158-25"><a href="pac06.html#cb158-25"></a><span class="pp">#define MAX_JUGADORES 3</span></span>
<span id="cb158-26"><a href="pac06.html#cb158-26"></a></span>
<span id="cb158-27"><a href="pac06.html#cb158-27"></a><span class="kw">typedef</span> <span class="kw">struct</span> {</span>
<span id="cb158-28"><a href="pac06.html#cb158-28"></a>    <span class="dt">char</span> nom[MAX_NOM];</span>
<span id="cb158-29"><a href="pac06.html#cb158-29"></a>    <span class="dt">char</span> cognom[MAX_COGNOM];</span>
<span id="cb158-30"><a href="pac06.html#cb158-30"></a>    <span class="dt">float</span> rebots;</span>
<span id="cb158-31"><a href="pac06.html#cb158-31"></a>    <span class="dt">float</span> taps;</span>
<span id="cb158-32"><a href="pac06.html#cb158-32"></a>} tJugadora;</span>
<span id="cb158-33"><a href="pac06.html#cb158-33"></a></span>
<span id="cb158-34"><a href="pac06.html#cb158-34"></a><span class="co">/* Predeclaracions de funcions/accions */</span></span>
<span id="cb158-35"><a href="pac06.html#cb158-35"></a><span class="dt">void</span> llegirJugadora(tJugadora *j);</span>
<span id="cb158-36"><a href="pac06.html#cb158-36"></a><span class="dt">void</span> mostrarJugadora(tJugadora j);</span>
<span id="cb158-37"><a href="pac06.html#cb158-37"></a><span class="dt">void</span> copiarJugadora(tJugadora *desti, tJugadora origen);</span>
<span id="cb158-38"><a href="pac06.html#cb158-38"></a><span class="dt">int</span> compararJugadores(tJugadora j1, tJugadora j2);</span>
<span id="cb158-39"><a href="pac06.html#cb158-39"></a></span>
<span id="cb158-40"><a href="pac06.html#cb158-40"></a><span class="co">/* Programa principal */</span></span>
<span id="cb158-41"><a href="pac06.html#cb158-41"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb158-42"><a href="pac06.html#cb158-42"></a>    tJugadora vJugadores[MAX_JUGADORES];</span>
<span id="cb158-43"><a href="pac06.html#cb158-43"></a>    <span class="dt">int</span> i, resultat;</span>
<span id="cb158-44"><a href="pac06.html#cb158-44"></a></span>
<span id="cb158-45"><a href="pac06.html#cb158-45"></a>    <span class="co">/* Es crea la tJugadora fictícia </span></span>
<span id="cb158-46"><a href="pac06.html#cb158-46"></a><span class="co">     * millorPivot que ens ajudarà a trobar </span></span>
<span id="cb158-47"><a href="pac06.html#cb158-47"></a><span class="co">     * la millor opció d&#39;entre totes les </span></span>
<span id="cb158-48"><a href="pac06.html#cb158-48"></a><span class="co">     * candidates</span></span>
<span id="cb158-49"><a href="pac06.html#cb158-49"></a><span class="co">     */</span></span>
<span id="cb158-50"><a href="pac06.html#cb158-50"></a>    tJugadora millorPivot; </span>
<span id="cb158-51"><a href="pac06.html#cb158-51"></a>    millorPivot.rebots = <span class="dv">0</span>;</span>
<span id="cb158-52"><a href="pac06.html#cb158-52"></a>    millorPivot.taps = <span class="dv">0</span>;</span>
<span id="cb158-53"><a href="pac06.html#cb158-53"></a></span>
<span id="cb158-54"><a href="pac06.html#cb158-54"></a>    <span class="co">/* Llegim totes les jugadores amb </span></span>
<span id="cb158-55"><a href="pac06.html#cb158-55"></a><span class="co">     * l&#39;acció llegirJugadora(). Aquesta</span></span>
<span id="cb158-56"><a href="pac06.html#cb158-56"></a><span class="co">     * acció rep un paràmetre de sortida</span></span>
<span id="cb158-57"><a href="pac06.html#cb158-57"></a><span class="co">     * (out), el qual contindrà la </span></span>
<span id="cb158-58"><a href="pac06.html#cb158-58"></a><span class="co">     * jugadora llegit per teclat. Com que</span></span>
<span id="cb158-59"><a href="pac06.html#cb158-59"></a><span class="co">     * es tracta d&#39;un paràmetre de tipus </span></span>
<span id="cb158-60"><a href="pac06.html#cb158-60"></a><span class="co">     * out, es realitzarà un pas per </span></span>
<span id="cb158-61"><a href="pac06.html#cb158-61"></a><span class="co">     * referència (= passarem un punter)</span></span>
<span id="cb158-62"><a href="pac06.html#cb158-62"></a><span class="co">     */</span></span>
<span id="cb158-63"><a href="pac06.html#cb158-63"></a>    <span class="cf">for</span> (i=<span class="dv">0</span>; i&lt;MAX_JUGADORES; i++) {</span>
<span id="cb158-64"><a href="pac06.html#cb158-64"></a>        tJugadora jugadora;</span>
<span id="cb158-65"><a href="pac06.html#cb158-65"></a>        llegirJugadora(&amp;jugadora);</span>
<span id="cb158-66"><a href="pac06.html#cb158-66"></a>        vJugadores[i] = jugadora;</span>
<span id="cb158-67"><a href="pac06.html#cb158-67"></a>    }</span>
<span id="cb158-68"><a href="pac06.html#cb158-68"></a></span>
<span id="cb158-69"><a href="pac06.html#cb158-69"></a>    <span class="co">/* Mostrem per pantalla quina</span></span>
<span id="cb158-70"><a href="pac06.html#cb158-70"></a><span class="co">     * és la millor jugadora amb perfil</span></span>
<span id="cb158-71"><a href="pac06.html#cb158-71"></a><span class="co">     * pivot defensiu. La idea és anar</span></span>
<span id="cb158-72"><a href="pac06.html#cb158-72"></a><span class="co">     * recorrent una a una les jugadores</span></span>
<span id="cb158-73"><a href="pac06.html#cb158-73"></a><span class="co">     * del vector i comparar-les amb millorPivot:</span></span>
<span id="cb158-74"><a href="pac06.html#cb158-74"></a><span class="co">     * 1. Si la jugadora del vector és millor</span></span>
<span id="cb158-75"><a href="pac06.html#cb158-75"></a><span class="co">     *    que millorPivot, copiarem les dades</span></span>
<span id="cb158-76"><a href="pac06.html#cb158-76"></a><span class="co">     *    de la jugadora cap a millorPivot.</span></span>
<span id="cb158-77"><a href="pac06.html#cb158-77"></a><span class="co">     * 2. Si millorPivot és millor que la</span></span>
<span id="cb158-78"><a href="pac06.html#cb158-78"></a><span class="co">     *    jugadora del vector, no farem res.</span></span>
<span id="cb158-79"><a href="pac06.html#cb158-79"></a><span class="co">     * En finalitzar el recorregut de totes</span></span>
<span id="cb158-80"><a href="pac06.html#cb158-80"></a><span class="co">     * les jugadores del vector, tindrem que</span></span>
<span id="cb158-81"><a href="pac06.html#cb158-81"></a><span class="co">     * millorPivot contindrà la jugadora</span></span>
<span id="cb158-82"><a href="pac06.html#cb158-82"></a><span class="co">     * que estem buscant.</span></span>
<span id="cb158-83"><a href="pac06.html#cb158-83"></a><span class="co">     */</span></span>
<span id="cb158-84"><a href="pac06.html#cb158-84"></a>    <span class="cf">for</span> (i=<span class="dv">0</span>; i&lt;MAX_JUGADORES; i++) {</span>
<span id="cb158-85"><a href="pac06.html#cb158-85"></a>        resultat = compararJugadores(millorPivot, vJugadores[i]);</span>
<span id="cb158-86"><a href="pac06.html#cb158-86"></a>        <span class="cf">if</span> (resultat == <span class="dv">1</span>) {</span>
<span id="cb158-87"><a href="pac06.html#cb158-87"></a>            copiarJugadora(&amp;millorPivot, vJugadores[i]);</span>
<span id="cb158-88"><a href="pac06.html#cb158-88"></a>        }</span>
<span id="cb158-89"><a href="pac06.html#cb158-89"></a>    }</span>
<span id="cb158-90"><a href="pac06.html#cb158-90"></a></span>
<span id="cb158-91"><a href="pac06.html#cb158-91"></a>    printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Millor opció com a pivot defensiu : &quot;</span>);</span>
<span id="cb158-92"><a href="pac06.html#cb158-92"></a>    mostrarJugadora(millorPivot);</span>
<span id="cb158-93"><a href="pac06.html#cb158-93"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb158-94"><a href="pac06.html#cb158-94"></a>}</span>
<span id="cb158-95"><a href="pac06.html#cb158-95"></a></span>
<span id="cb158-96"><a href="pac06.html#cb158-96"></a><span class="co">/* Implementació de les funcions/accions */</span></span>
<span id="cb158-97"><a href="pac06.html#cb158-97"></a><span class="dt">void</span> llegirJugadora(tJugadora *j) {</span>
<span id="cb158-98"><a href="pac06.html#cb158-98"></a>    printf(<span class="st">&quot;Introdueix les dades de la nova jugadora: </span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb158-99"><a href="pac06.html#cb158-99"></a>    printf(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">Nom: &quot;</span>);</span>
<span id="cb158-100"><a href="pac06.html#cb158-100"></a>    scanf(<span class="st">&quot;%s&quot;</span>, j-&gt;nom);</span>
<span id="cb158-101"><a href="pac06.html#cb158-101"></a>    printf(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">Cognom: &quot;</span>);</span>
<span id="cb158-102"><a href="pac06.html#cb158-102"></a>    scanf(<span class="st">&quot;%s&quot;</span>, j-&gt;cognom);</span>
<span id="cb158-103"><a href="pac06.html#cb158-103"></a>    printf(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">&gt;&gt; Promigs per partit:</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb158-104"><a href="pac06.html#cb158-104"></a>    printf(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">Rebots: &quot;</span>);</span>
<span id="cb158-105"><a href="pac06.html#cb158-105"></a>    scanf(<span class="st">&quot;%f&quot;</span>, &amp;j-&gt;rebots);</span>
<span id="cb158-106"><a href="pac06.html#cb158-106"></a>    printf(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">Taps: &quot;</span>);</span>
<span id="cb158-107"><a href="pac06.html#cb158-107"></a>    scanf(<span class="st">&quot;%f&quot;</span>, &amp;j-&gt;taps);</span>
<span id="cb158-108"><a href="pac06.html#cb158-108"></a>}</span>
<span id="cb158-109"><a href="pac06.html#cb158-109"></a></span>
<span id="cb158-110"><a href="pac06.html#cb158-110"></a><span class="dt">void</span> mostrarJugadora(tJugadora j) {</span>
<span id="cb158-111"><a href="pac06.html#cb158-111"></a>    printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">%s, %s: %.1f rebots, %.1f taps </span><span class="sc">\n</span><span class="st">&quot;</span>, j.cognom, j.nom, j.rebots, j.taps);</span>
<span id="cb158-112"><a href="pac06.html#cb158-112"></a>}</span>
<span id="cb158-113"><a href="pac06.html#cb158-113"></a></span>
<span id="cb158-114"><a href="pac06.html#cb158-114"></a><span class="dt">void</span> copiarJugadora(tJugadora *desti, tJugadora origen) {</span>
<span id="cb158-115"><a href="pac06.html#cb158-115"></a>    <span class="co">/* Recordem: </span></span>
<span id="cb158-116"><a href="pac06.html#cb158-116"></a><span class="co">     * - si el paràmetre és un punter, l&#39;accessor </span></span>
<span id="cb158-117"><a href="pac06.html#cb158-117"></a><span class="co">     *   d&#39;atributs serà &#39;-&gt;&#39;</span></span>
<span id="cb158-118"><a href="pac06.html#cb158-118"></a><span class="co">     * - si el paràmetre és un valor, l&#39;accessor</span></span>
<span id="cb158-119"><a href="pac06.html#cb158-119"></a><span class="co">     *   d&#39;atributs serà &#39;.&#39;</span></span>
<span id="cb158-120"><a href="pac06.html#cb158-120"></a><span class="co">     */</span></span>
<span id="cb158-121"><a href="pac06.html#cb158-121"></a>    strcpy(desti-&gt;nom, origen.nom);</span>
<span id="cb158-122"><a href="pac06.html#cb158-122"></a>    strcpy(desti-&gt;cognom, origen.cognom);</span>
<span id="cb158-123"><a href="pac06.html#cb158-123"></a>    desti-&gt;rebots = origen.rebots;</span>
<span id="cb158-124"><a href="pac06.html#cb158-124"></a>    desti-&gt;taps = origen.taps;</span>
<span id="cb158-125"><a href="pac06.html#cb158-125"></a>}</span>
<span id="cb158-126"><a href="pac06.html#cb158-126"></a></span>
<span id="cb158-127"><a href="pac06.html#cb158-127"></a><span class="dt">int</span> compararJugadores(tJugadora j1, tJugadora j2) {</span>
<span id="cb158-128"><a href="pac06.html#cb158-128"></a>    <span class="co">/* Estem buscant una jugadora que </span></span>
<span id="cb158-129"><a href="pac06.html#cb158-129"></a><span class="co">     * tingui un perfil de pivot defensiu, </span></span>
<span id="cb158-130"><a href="pac06.html#cb158-130"></a><span class="co">     * amb el que agafarem:</span></span>
<span id="cb158-131"><a href="pac06.html#cb158-131"></a><span class="co">     * 1. Aquella que tingui més rebots per partit</span></span>
<span id="cb158-132"><a href="pac06.html#cb158-132"></a><span class="co">     * 2. En cas d&#39;empat de rebots, aquella que</span></span>
<span id="cb158-133"><a href="pac06.html#cb158-133"></a><span class="co">     *    faci més taps per partit</span></span>
<span id="cb158-134"><a href="pac06.html#cb158-134"></a><span class="co">     */</span> </span>
<span id="cb158-135"><a href="pac06.html#cb158-135"></a>    <span class="cf">if</span> (j1.rebots &gt; j2.rebots) {</span>
<span id="cb158-136"><a href="pac06.html#cb158-136"></a>        <span class="cf">return</span> -<span class="dv">1</span>;</span>
<span id="cb158-137"><a href="pac06.html#cb158-137"></a>    } <span class="cf">else</span> {</span>
<span id="cb158-138"><a href="pac06.html#cb158-138"></a>        <span class="cf">if</span> (j1.rebots &lt; j2.rebots) {</span>
<span id="cb158-139"><a href="pac06.html#cb158-139"></a>            <span class="cf">return</span> <span class="dv">1</span>;</span>
<span id="cb158-140"><a href="pac06.html#cb158-140"></a>        } <span class="cf">else</span> {</span>
<span id="cb158-141"><a href="pac06.html#cb158-141"></a>            <span class="co">/* En aquest punt tenim que </span></span>
<span id="cb158-142"><a href="pac06.html#cb158-142"></a><span class="co">             * j1.rebots == j2.rebots,</span></span>
<span id="cb158-143"><a href="pac06.html#cb158-143"></a><span class="co">             * amb el que anem a comparar el següent</span></span>
<span id="cb158-144"><a href="pac06.html#cb158-144"></a><span class="co">             * atribut segons la prioritat definida</span></span>
<span id="cb158-145"><a href="pac06.html#cb158-145"></a><span class="co">             * del perfil pivot defensiu</span></span>
<span id="cb158-146"><a href="pac06.html#cb158-146"></a><span class="co">             */</span></span>
<span id="cb158-147"><a href="pac06.html#cb158-147"></a>            <span class="cf">if</span> (j1.taps &gt; j2.taps) {</span>
<span id="cb158-148"><a href="pac06.html#cb158-148"></a>                <span class="cf">return</span> -<span class="dv">1</span>;</span>
<span id="cb158-149"><a href="pac06.html#cb158-149"></a>            } <span class="cf">else</span> {</span>
<span id="cb158-150"><a href="pac06.html#cb158-150"></a>                <span class="cf">if</span> (j1.taps &lt; j2.taps) {</span>
<span id="cb158-151"><a href="pac06.html#cb158-151"></a>                    <span class="cf">return</span> <span class="dv">1</span>;</span>
<span id="cb158-152"><a href="pac06.html#cb158-152"></a>                } <span class="cf">else</span> {</span>
<span id="cb158-153"><a href="pac06.html#cb158-153"></a>                    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb158-154"><a href="pac06.html#cb158-154"></a>                }</span>
<span id="cb158-155"><a href="pac06.html#cb158-155"></a>            }</span>
<span id="cb158-156"><a href="pac06.html#cb158-156"></a>        }</span>
<span id="cb158-157"><a href="pac06.html#cb158-157"></a>    }</span>
<span id="cb158-158"><a href="pac06.html#cb158-158"></a>}</span></code></pre></div>
<p>Exemple d’execució:</p>
<p>
<img src="img/play.png" float="right;" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb159-1"><a href="pac06.html#cb159-1"></a>Introdueix les dades de la nova jugadora: </span>
<span id="cb159-2"><a href="pac06.html#cb159-2"></a>    Nom: Julia</span>
<span id="cb159-3"><a href="pac06.html#cb159-3"></a>    Cognom: Sanz</span>
<span id="cb159-4"><a href="pac06.html#cb159-4"></a>    &gt;&gt; Promigs per partit:</span>
<span id="cb159-5"><a href="pac06.html#cb159-5"></a>    Rebots: <span class="fl">7.9</span></span>
<span id="cb159-6"><a href="pac06.html#cb159-6"></a>    Taps: <span class="fl">0.9</span></span>
<span id="cb159-7"><a href="pac06.html#cb159-7"></a>Introdueix les dades de la nova jugadora: </span>
<span id="cb159-8"><a href="pac06.html#cb159-8"></a>    Nom: Nuria</span>
<span id="cb159-9"><a href="pac06.html#cb159-9"></a>    Cognom: Gutierrez</span>
<span id="cb159-10"><a href="pac06.html#cb159-10"></a>    &gt;&gt; Promigs per partit:</span>
<span id="cb159-11"><a href="pac06.html#cb159-11"></a>    Rebots: <span class="fl">7.9</span></span>
<span id="cb159-12"><a href="pac06.html#cb159-12"></a>    Taps: <span class="fl">1.4</span></span>
<span id="cb159-13"><a href="pac06.html#cb159-13"></a>Introdueix les dades de la nova jugadora: </span>
<span id="cb159-14"><a href="pac06.html#cb159-14"></a>    Nom: Mireia</span>
<span id="cb159-15"><a href="pac06.html#cb159-15"></a>    Cognom: Mateu</span>
<span id="cb159-16"><a href="pac06.html#cb159-16"></a>    &gt;&gt; Promigs per partit:</span>
<span id="cb159-17"><a href="pac06.html#cb159-17"></a>    Rebots: <span class="fl">6.8</span></span>
<span id="cb159-18"><a href="pac06.html#cb159-18"></a>    Taps: <span class="fl">2.1</span></span>
<span id="cb159-19"><a href="pac06.html#cb159-19"></a></span>
<span id="cb159-20"><a href="pac06.html#cb159-20"></a>Millor opció com a pivot defensiu : </span>
<span id="cb159-21"><a href="pac06.html#cb159-21"></a>Gutierrez, Nuria: <span class="fl">7.9</span> rebots, <span class="fl">1.4</span> taps </span></code></pre></div>
<div id="explicació-sobre-lacció-copiarjugadora" class="section level3" number="6.5.1">
<h3 number="6.5.1"><span class="header-section-number">6.5.1</span> Explicació sobre l’acció copiarJugadora()</h3>
<p>L’acció <code>copiarJugadora(tJugadora *desti, tJugadora origen)</code> de l’exemple rep dos paràmetres:</p>
<ul>
<li>El primer d’ells és <code>desti</code>, un punter a una tupla de tipus <code>tJugadora</code>; una altra forma de dir-ho és que el valor de <code>desti</code> el <strong>passem per referència</strong>. Aquest paràmetre és de tipus <code>out</code>, ja que no utilitzem per res el valor inicial que té i només ens interessa el valor final que tindrà en executar l’acció.</li>
<li>El segon és <code>origen</code>, una tupla que <strong>passem per valor</strong>. Per tant en aquest cas no estem passant el punter a una <code>tJugadora</code>, sinó directament una <code>tJugadora</code>.</li>
</ul>
<p>Quan tenim un punter a una tupla, accedim a l’element mitjançant l’operador <code>-&gt;</code>. En canvi, si estem tractant una tupla accedirem a un atribut seu amb l’operador <code>.</code> (punt).</p>
<p>La codificació de l’acció és:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb160-1"><a href="pac06.html#cb160-1"></a><span class="dt">void</span> copiarJugadora(tJugadora *desti, tJugadora origen) {</span>
<span id="cb160-2"><a href="pac06.html#cb160-2"></a>    <span class="co">/* Recordem: </span></span>
<span id="cb160-3"><a href="pac06.html#cb160-3"></a><span class="co">     * - si el paràmetre és un punter, l&#39;accessor </span></span>
<span id="cb160-4"><a href="pac06.html#cb160-4"></a><span class="co">     *   d&#39;atributs serà &#39;-&gt;&#39;</span></span>
<span id="cb160-5"><a href="pac06.html#cb160-5"></a><span class="co">     * - si el paràmetre és un valor, l&#39;accessor</span></span>
<span id="cb160-6"><a href="pac06.html#cb160-6"></a><span class="co">     *   d&#39;atributs serà &#39;.&#39;</span></span>
<span id="cb160-7"><a href="pac06.html#cb160-7"></a><span class="co">     */</span></span>
<span id="cb160-8"><a href="pac06.html#cb160-8"></a>    strcpy(desti-&gt;nom, origen.nom);</span>
<span id="cb160-9"><a href="pac06.html#cb160-9"></a>    strcpy(desti-&gt;cognom, origen.cognom);</span>
<span id="cb160-10"><a href="pac06.html#cb160-10"></a>    desti-&gt;rebots = origen.rebots;</span>
<span id="cb160-11"><a href="pac06.html#cb160-11"></a>    desti-&gt;taps = origen.taps;</span>
<span id="cb160-12"><a href="pac06.html#cb160-12"></a>}</span></code></pre></div>
<p>No utilitzarem el prefix <code>&amp;</code> davant de la <code>tJugadora origen</code>, de la mateixa forma que no utilitzem l’<code>&amp;</code> quan anem a imprimir per pantalla amb <code>printf()</code> el valor d’una variable: com que estem tractant amb un valor, simplement hi accedim a ell i l’utilitzem. Per tant aquestes accions serien <strong>incorrectes</strong>:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb161-1"><a href="pac06.html#cb161-1"></a>    strcpy(desti-&gt;nom, &amp;origen.nom);</span>
<span id="cb161-2"><a href="pac06.html#cb161-2"></a>    strcpy(desti-&gt;cognom, &amp;origen.cognom);</span>
<span id="cb161-3"><a href="pac06.html#cb161-3"></a>    desti-&gt;rebots = &amp;origen.rebots;</span>
<span id="cb161-4"><a href="pac06.html#cb161-4"></a>    desti-&gt;taps = &amp;origen.taps;</span></code></pre></div>
<p>Sí que tenim una alternativa possible a l’operador <code>-&gt;</code>, segons s’indica a la xWiki:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb162-1"><a href="pac06.html#cb162-1"></a>    strcpy((*desti).nom, origen.nom);</span>
<span id="cb162-2"><a href="pac06.html#cb162-2"></a>    strcpy((*desti).cognom, origen.cognom);</span>
<span id="cb162-3"><a href="pac06.html#cb162-3"></a>    (*desti).rebots = origen.rebots;</span>
<span id="cb162-4"><a href="pac06.html#cb162-4"></a>    (*desti).taps = origen.taps;</span></code></pre></div>
<p>Per tant aquest darrer bloc de codi es pot substituir a l’exemple i tot continua funcionant correctament, ja que són equivalents. Es pot utilitzar una forma o l’altra, tot i que l’operador <code>-&gt;</code> sembla més fàcil d’entendre visualment.</p>
</div>
</div>
<div id="frequently-made-mistakes-5" class="section level2" number="6.6">
<h2 number="6.6"><span class="header-section-number">6.6</span> Frequently Made Mistakes</h2>
<div id="definició-daccionsfuncions-noms-de-paràmetres" class="section level3" number="6.6.1">
<h3 number="6.6.1"><span class="header-section-number">6.6.1</span> Definició d’accions/funcions: noms de paràmetres</h3>
<p>Pseudocodi incorrecte:</p>
<p>
<img src="img/alg_err.png" style="float:left; padding:10px" />
</p>
<pre><code>action hotelCmp(in tHotel, in tHotel)
    { ... }
end action</code></pre>
<p>En l’exemple mostrat, sembla que la intenció és definir dos paràmetres, però falta indicar l’identificador (nom) per a cada un d’ells. Recordem que en la declaració de la capçalera d’una acció/funció, cal indicar, per a cada paràmetre:</p>
<ul>
<li>El tipus de paràmetre que rep l’acció o funció, (in, out o inout)</li>
<li>El tipus de dades del paràmetre (tHotel en l’exemple)</li>
<li>L’identificador associat al paràmetre (no definit en l’exemple).</li>
</ul>
<p>Pseudocodi correcte:</p>
<p>
<img src="img/alg.png" style="float:left; padding:10px" />
</p>
<pre><code>action hotelCmp(in hotel1: tHotel, in hotel2: tHotel)
    { ... }
end action</code></pre>
</div>
<div id="definició-daccionsfuncions-tipus-de-paràmetres" class="section level3" number="6.6.2">
<h3 number="6.6.2"><span class="header-section-number">6.6.2</span> Definició d’accions/funcions: tipus de paràmetres</h3>
<p>Pseudocodi incorrecte:</p>
<p>
<img src="img/alg_err.png" style="float:left; padding:10px" />
</p>
<pre><code>action hotelCmp(in hotel1: tHotel, out hotel2: tHotel)
    hotel1.id = hotel2.id;
end action</code></pre>
<p>En la <strong>declaració de la capçalera</strong> d’una acció/funció cal indicar per a cada paràmetre el tipus de paràmetre que rep l’acció o funció: <code>in</code>, <code>out</code> o <code>inout</code>. Els paràmetres de tipus <code>in</code> no es poden modificar a l’interior de l’acció, mentre sí que podem fer-ho en el cas dels paràmetres de tipus <code>out</code> o <code>inout</code>. En l’exemple, s’està modificant el paràmetre <code>hotel1</code> actualitzant el valor d’un dels seus camps. O bé es tracta d’una confusió entre els dos paràmetres, o bé <code>hotel1</code> ha de ser de tipus <code>out</code>.</p>
<p>Pseudocodis correctes:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb166-1"><a href="pac06.html#cb166-1"></a>action hotelCmp(in hotel1: tHotel, out hotel2: tHotel)</span>
<span id="cb166-2"><a href="pac06.html#cb166-2"></a>    hotel2.id = hotel1.id;</span>
<span id="cb166-3"><a href="pac06.html#cb166-3"></a>end action</span></code></pre></div>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb167-1"><a href="pac06.html#cb167-1"></a>action hotelCmp(out hotel1: tHotel, in hotel2: tHotel)</span>
<span id="cb167-2"><a href="pac06.html#cb167-2"></a>    hotel1.id = hotel2.id;</span>
<span id="cb167-3"><a href="pac06.html#cb167-3"></a>end action</span></code></pre></div>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb168-1"><a href="pac06.html#cb168-1"></a>action hotelCmp(out hotel1: tHotel, inout hotel2: tHotel)</span>
<span id="cb168-2"><a href="pac06.html#cb168-2"></a>    hotel1.id = hotel2.id;</span>
<span id="cb168-3"><a href="pac06.html#cb168-3"></a>end action</span></code></pre></div>
<p>Fixeu-vos que si el paràmetre <code>hotel1</code> és de tipus <code>out</code> i hem de llegir el paràmetre <code>hotel2</code>, aquest segon paràmetre ha de ser forçosament de tipus <code>in</code> o <code>inout</code>, per la qual cosa n’hem modificat el tipus a la capçalera de la funció.</p>
</div>
<div id="definició-de-funcions-tipus-de-dades-de-retorn" class="section level3" number="6.6.3">
<h3 number="6.6.3"><span class="header-section-number">6.6.3</span> Definició de funcions: tipus de dades de retorn</h3>
<p>Pseudocodi incorrecte:</p>
<p>
<img src="img/alg_err.png" style="float:left; padding:10px" />
</p>
<pre><code>function hotelCmp(h1: tHotel, h2: tHotel)
    { ... }
end function</code></pre>
<p>En l’exemple mostrat, <code>hotelCmp</code> està definida com a funció, amb els paràmetres d’entrada <code>h1</code> i <code>h2</code>, però les funcions sempre retornen un valor, i cal indicar-ne sempre el tipus de dades a la mateixa capçalera.</p>
<p>Pseudocodi correcte:</p>
<p>
<img src="img/alg.png" style="float:left; padding:10px" />
</p>
<pre><code>function hotelCmp(h1: tHotel, h2: tHotel): integer
    { ... }
end function</code></pre>
<p>Observeu que en aquest cas, no cal indicar el tipus de paràmetres d’entrada (<code>in</code>, <code>out</code> o <code>inout</code>), perquè en les funcions els paràmetres sempre són d’entrada i no es poden modificar.</p>
</div>
<div id="definició-daccions-retorn-de-valor" class="section level3" number="6.6.4">
<h3 number="6.6.4"><span class="header-section-number">6.6.4</span> Definició d’accions: retorn de valor</h3>
<p>Pseudocodi incorrecte:</p>
<p>
<img src="img/alg_err.png" style="float:left; padding:10px" />
</p>
<pre><code>action hoteTableInit(inout tHotelTable: tabHotels): void
    { ... }
end action</code></pre>
<p>Aquí s’ha definit una acció anomenada <code>hotelTableInit</code>, que rep un paràmetre d’entrada/sortida (<code>inout</code>) de tipus <code>tHotelTable</code>, amb l’identificador <code>tabHotels</code>. Les accions mai retornen un valor, però erròniament s’ha interpretat que cal indicar aquest fet afegint <code>:void</code> al final de la capçalera de l’acció.</p>
<p>Aquest cas és doblement incorrecte degut a que <code>:void</code> és un identificador propi de C que no existeix en llenguatge algorísmic.</p>
<p>Pseudocodi correcte:</p>
<p>
<img src="img/alg.png" style="float:left; padding:10px" />
</p>
<pre><code>action hoteTableInit(inout tHotelTable: tabHotels)
    { ... }
end action</code></pre>
<p>Observeu que en aquest cas, en tractar-se d’una <strong>acció</strong> cal indicar el tipus de paràmetres d’entrada: <code>in</code>, <code>out</code> o <code>inout</code>.</p>
</div>
<div id="definició-daccionsfuncions-accions-obertes" class="section level3" number="6.6.5">
<h3 number="6.6.5"><span class="header-section-number">6.6.5</span> Definició d’accions/funcions: accions obertes</h3>
<p>Pseudocodi incorrecte:</p>
<p>
<img src="img/alg_err.png" style="float:left; padding:10px" />
</p>
<pre><code>action hotelCmp(in hotel1: tHotel, out hotel2: tHotel)
    hotel1.id = hotel2.id;
    { ... }
action readHotel(out hotel1: tHotel)
    hotel1.id = readInteger();
end action</code></pre>
<p>Les <strong>funcions</strong> i <strong>accions</strong> constitueixen <strong>blocs de codi</strong> amb unes funcionalitats i característiques especials, i com a tal han d’estar ben delimitades, mitjançant les paraules reservades <code>function</code> … <code>end function</code> i <code>action</code> … <code>end action</code>. Deixar una acció sense tancar pot semblar un tema menor, però en C això comportarà amb tota seguretat un error de compilació (sovint difícil de detectar).</p>
<p>Pseudocodi correcte:</p>
<p>
<img src="img/alg.png" style="float:left; padding:10px" />
</p>
<pre><code>action hotelCmp(in hotel1: tHotel, out hotel2: tHotel)
    hotel1.id = hotel2.id;
    { ... }
end action
action readHotel(out hotel1: tHotel)
    hotel1.id = readInteger();
end action</code></pre>
</div>
<div id="crida-a-funcionsaccions-tipus-de-paràmetres" class="section level3" number="6.6.6">
<h3 number="6.6.6"><span class="header-section-number">6.6.6</span> Crida a funcions/accions: tipus de paràmetres</h3>
<p>Pseudocodi incorrecte:</p>
<p>
<img src="img/alg_err.png" style="float:left; padding:10px" />
</p>
<pre><code>hotelRead(out h1: tHotel);
hotelRead(out h2: tHotel);

action hotelRead(out h: tHotel)
    { ... }
end action</code></pre>
<p>El tipus de paràmetre que rep una acció/funció, així com el tipus de dades i l’identificador del paràmetre, cal indicar-los únicament en la <strong>definició de la capçalera</strong> de l’<strong>acció</strong>. En el cas de <strong>funcions</strong>, no indicarem el tipus de dades perquè sempre són de tipus <code>in</code>.</p>
<p>En la <strong>crida</strong> a una acció/funció únicament cal indicar els paràmetres.</p>
<p>Pseudocodi correcte:</p>
<p>
<img src="img/alg.png" style="float:left; padding:10px" />
</p>
<pre><code>hotelRead(h1);
hotelRead(h2);

action hotelRead(out h: tHotel)
    { ... }
end action</code></pre>
</div>
<div id="crida-a-accionsfuncions-paraules-reservades" class="section level3" number="6.6.7">
<h3 number="6.6.7"><span class="header-section-number">6.6.7</span> Crida a accions/funcions: paraules reservades</h3>
<p>Pseudocodi incorrecte:</p>
<p>
<img src="img/alg_err.png" style="float:left; padding:10px" />
</p>
<pre><code>action hotelRead(h1);
action hotelRead(h2);

action hotelRead(out h: tHotel)
    { ... }
end action</code></pre>
<p>La paraula reservada <code>action</code> cal indicar-la únicament en la <strong>definició de la capçalera</strong> de l’acció.</p>
<p>En la <strong>crida</strong> a una acció únicament cal indicar el nom de l’acció i els paràmetres; es incorrecto afegir novament la paraula reservada <code>action</code>.</p>
<p>Pseudocodi correcte:</p>
<p>
<img src="img/alg.png" style="float:left; padding:10px" />
</p>
<pre><code>hotelRead(h1);
hotelRead(h2);

action hotelRead(out h: tHotel)
    { ... }
end action</code></pre>
</div>
<div id="crida-a-funcions-crida-buida" class="section level3" number="6.6.8">
<h3 number="6.6.8"><span class="header-section-number">6.6.8</span> Crida a funcions: crida buida</h3>
<p>Pseudocodi incorrecte:</p>
<p>
<img src="img/alg_err.png" style="float:left; padding:10px" />
</p>
<pre><code>bestHotel: integer;

compareHotels(h1,h2);

if (bestHotel = 1) then
    { ... }
end if  

function hotelRead(h1: tHotel, h2: tHotel): integer
    { ... }
    return bestHotel;
end function</code></pre>
<p>Com passa en totes les funcions, <code>hotelRead()</code> retorna un valor: en aquest cas, la variable <code>bestHotel</code>. No obstant, la <strong>crida</strong> que es fa de la funció no és correcta, perquè el retorn de la funció no es guarda enlloc, i la variable <code>bestHotel</code> del programa principal segueix sense haver-se actualitzat.</p>
<p>En el cas de C aquest codi no provocaria un error, però si no fem res més des del programa principal no tindrem accés al resultat que retorna la funció (que és el que se suposa que volíem fer).</p>
<p>Pseudocodi correcte:</p>
<p>
<img src="img/alg.png" style="float:left; padding:10px" />
</p>
<pre><code>bestHotel: integer;

bestHotel:= compareHotels(h1,h2);

if (bestHotel = 1) then
    {...}
end if  

function hotelRead(h1: tHotel, h2: tHotel): integer
    {...}
    return bestHotel;
end function</code></pre>
<p>El retorn d’una funció també es pot utilitzar en una expressió, en aquest cas sense assignar-lo a cap variable, ja que en la mateixa expressió, el compilador calcularà el retorn de la funció i el substituirà el valor corresponent dins la funció:</p>
<p>Pseudocodi correcte:</p>
<p>
<img src="img/alg.png" style="float:left; padding:10px" />
</p>
<pre><code>bestHotel: integer;

if (compareHotels(h1,h2) = 1) then
    { ... }
end if  

function hotelRead(h1: tHotel, h2: tHotel): integer
    { ... }
    return bestHotel;
end function</code></pre>
</div>
<div id="crida-a-funcions-absència-de-paràmetres" class="section level3" number="6.6.9">
<h3 number="6.6.9"><span class="header-section-number">6.6.9</span> Crida a funcions: absència de paràmetres</h3>
<p>Pseudocodi incorrecte:</p>
<p>
<img src="img/alg_err.png" style="float:left; padding:10px" />
</p>
<pre><code>var
    myReal: real;
    myInteger: integer;
end var

myInteger:= integerToReal();</code></pre>
<p>La funció <code>integerToReal</code> retorna un valor i el guardem a la variable <code>myInteger</code>. El problema és que la funció necessita que li passem un <strong>paràmetre</strong> quan la cridem: en aquest cas, el nombre real a convertir a enter.</p>
<p>En cas de dubte, cal que consultem sempre la <strong>capçalera de declaració</strong> de la funció, ja que ens indicarà en cada cas el nombre i tipus de paràmetres que espera.</p>
<p>Pseudocodi correcte:</p>
<p>
<img src="img/alg.png" style="float:left; padding:10px" />
</p>
<pre><code>var
    myReal: real;
    myInteger: integer;
end var

myInteger:= integerToReal(myReal);</code></pre>
</div>
<div id="crida-a-funcions-errors-de-sintaxi-múltiples" class="section level3" number="6.6.10">
<h3 number="6.6.10"><span class="header-section-number">6.6.10</span> Crida a funcions: errors de sintaxi múltiples</h3>
<p>Pseudocodi incorrecte:</p>
<p>
<img src="img/alg_err.png" style="float:left; padding:10px" />
</p>
<pre><code>var
    hotel1: tHotel;
end var

hotelRead(in: &amp;myHotel);

action hotelRead(in myHotel: tHotel)
    { ... }
end action</code></pre>
<p>El pseudocodi anterior mostra una barreja d’errors de sintaxi diversos en la crida a la funció (n’és només un exemple):
- S’indica el tipus <code>in</code>.
- S’inclou l’operador <code>:</code>.
- S’afegeix sintaxi pròpia de C amb l’operador <code>&amp;</code>, per passar el paràmetre <code>myHotel</code> per referència. En llenguatge algorísmic el pas d’un paràmetre per referència es determina mitjançant la capçalera de la funció.</p>
<p>Pseudocodi correcte:</p>
<p>
<img src="img/alg.png" style="float:left; padding:10px" />
</p>
<pre><code>var
    hotel1: tHotel;
end var

hotelRead(myHotel);

action hotelRead(in myHotel: tHotel)
    { ... }
end action</code></pre>
</div>
<div id="definició-de-funcions-funcions-dins-el-main" class="section level3" number="6.6.11">
<h3 number="6.6.11"><span class="header-section-number">6.6.11</span> Definició de funcions: funcions dins el main</h3>
<p>Codi incorrecte:</p>
<p>
<img src="img/c_err.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb186-1"><a href="pac06.html#cb186-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb186-2"><a href="pac06.html#cb186-2"></a><span class="pp">#include </span><span class="im">&lt;stdbool.h&gt;</span></span>
<span id="cb186-3"><a href="pac06.html#cb186-3"></a></span>
<span id="cb186-4"><a href="pac06.html#cb186-4"></a><span class="pp">#define MAX_LEN 15</span></span>
<span id="cb186-5"><a href="pac06.html#cb186-5"></a></span>
<span id="cb186-6"><a href="pac06.html#cb186-6"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb186-7"><a href="pac06.html#cb186-7"></a>    <span class="dt">int</span> num1;</span>
<span id="cb186-8"><a href="pac06.html#cb186-8"></a>    <span class="dt">int</span> num2;</span>
<span id="cb186-9"><a href="pac06.html#cb186-9"></a>    <span class="dt">bool</span> myBool;</span>
<span id="cb186-10"><a href="pac06.html#cb186-10"></a></span>
<span id="cb186-11"><a href="pac06.html#cb186-11"></a>    <span class="dt">bool</span> compareNumbers(<span class="dt">int</span> n1, <span class="dt">int</span> n2){</span>
<span id="cb186-12"><a href="pac06.html#cb186-12"></a>       <span class="cf">return</span> (n1 &gt; n2); </span>
<span id="cb186-13"><a href="pac06.html#cb186-13"></a>    }</span>
<span id="cb186-14"><a href="pac06.html#cb186-14"></a>    </span>
<span id="cb186-15"><a href="pac06.html#cb186-15"></a>    myBool = compareNumbers(num1, num2);</span>
<span id="cb186-16"><a href="pac06.html#cb186-16"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb186-17"><a href="pac06.html#cb186-17"></a>}</span></code></pre></div>
<p>Les funcions i accions cal definir-les de forma individual i separada. No és correcte definir funcions niades o incloses dins d’altres (com per exemple el <code>main</code>), entre altres coses perquè aquestes funcions no estaran disponibles des de l’exterior de la funció on són creades.</p>
<p>Codi correcte:</p>
<p>
<img src="img/c.png" style="float:left; padding:10px" />
</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb187-1"><a href="pac06.html#cb187-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb187-2"><a href="pac06.html#cb187-2"></a><span class="pp">#include </span><span class="im">&lt;stdbool.h&gt;</span></span>
<span id="cb187-3"><a href="pac06.html#cb187-3"></a></span>
<span id="cb187-4"><a href="pac06.html#cb187-4"></a><span class="pp">#define MAX_LEN 15</span></span>
<span id="cb187-5"><a href="pac06.html#cb187-5"></a></span>
<span id="cb187-6"><a href="pac06.html#cb187-6"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb187-7"><a href="pac06.html#cb187-7"></a>    <span class="dt">int</span> num1;</span>
<span id="cb187-8"><a href="pac06.html#cb187-8"></a>    <span class="dt">int</span> num2;</span>
<span id="cb187-9"><a href="pac06.html#cb187-9"></a>    <span class="dt">bool</span> myBool;</span>
<span id="cb187-10"><a href="pac06.html#cb187-10"></a>    myBool = compareNumbers(num1, num2);</span>
<span id="cb187-11"><a href="pac06.html#cb187-11"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb187-12"><a href="pac06.html#cb187-12"></a>}</span>
<span id="cb187-13"><a href="pac06.html#cb187-13"></a></span>
<span id="cb187-14"><a href="pac06.html#cb187-14"></a><span class="dt">bool</span> compareNumbers(<span class="dt">int</span> n1, <span class="dt">int</span> n2){</span>
<span id="cb187-15"><a href="pac06.html#cb187-15"></a>    <span class="cf">return</span> (n1 &gt; n2); </span>
<span id="cb187-16"><a href="pac06.html#cb187-16"></a>}</span></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="pac05.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="pac07.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/06-PAC06.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["FAQ_Laboratori_FP.pdf", "FAQ_Laboratori_FP.epub"],
"toc": {
"collapse": "section",
"toc": true,
"toc_float": true,
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
